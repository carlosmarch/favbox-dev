{"version":3,"sources":["controllers/userController.js","icons/Heart.svg","icons/User.svg","icons/Search.svg","icons/Discover.svg","icons/Plus.svg","components/BottomBar.js","Helpers.js","components/Header.js","icons/logo-inverted.svg","components/Footer.js","components/BlockTitle.js","icons/HeartFull.svg","components/Like.js","components/Contributor.js","components/Card.js","components/Musiccard.js","components/Podcastcard.js","components/Collectioncard.js","components/Promocard.js","components/Articlelist.js","components/Videocard.js","components/Appcard.js","components/LoadingSpinner.js","App.js","templates/Templates.js","views/Notfound.js","Detail.js","views/About.js","views/Search.js","components/Message.js","views/Signup.js","views/Login.js","components/HeaderMkt.js","icons/Globe.svg","views/Home.js","components/FavItem.js","components/Confetti.js","views/Profile.js","views/ExternalProfile.js","views/Likes.js","views/CreateUrl.js","icons/Back.svg","views/Item.js","serviceWorker.js","index.js","controllers/dataController.js","history.js","controllers/recommendationController.js"],"names":["bcrypt","require","data","base","apiKey","process","table","tablePrivate","findUser","email","a","recordExists","options","filterByFormula","getAirtableRecords","filter","user","get","addUser","req","next","name","history","push","pathname","state","type","message","create","err","record","console","error","fields","id","setSession","getId","userData","storePassword","password","hash","update","authenticate","then","users","length","forEach","compare","response","userid","find","catch","log","Error","updateUserLikes","likeArr","userId","getSession","likes","userRecord","localStorage","setItem","JSON","stringify","parse","getItem","isAuthenticated","signOut","clear","setLocalStorageFavs","removeStorageFavs","userSession","setStorage","key","getStorage","_extends","Object","assign","target","i","arguments","source","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","createElement","d","fill","_ref","svgRef","title","props","width","height","viewBox","ref","ForwardRef","forwardRef","fillRule","clipRule","BottomBar","toggleClass","bind","activeIndex","index","e","setState","className","to","onClick","Component","storeUniqueTopics","records","topics","map","item","uniqueTopics","Array","concat","val","array","window","$topics","storeUniqueCategories","categories","uniqueCategories","$categories","getUrlCategory","decodeURIComponent","location","split","getUrlTopic","pop","truncateText","str","ending","substring","getStorageFavs","archive","el","getContributor","contributors","contributorIdArray","contributorId","contributor","getCategoryItems","recommendations","categoryName","size","recommendation","includes","slice","getCollectionItems","collectionName","collections","collection","filteredCollectionItem","getBlockCategoryItems","catArr","some","tag","userController","Header","emailChangeHandler","event","value","handleSubmit","preventDefault","isHoveredCategories","isHoveredTopics","handleHoverCategories","handleHoverTopics","prevState","fetch","$api","resp","json","Helpers","getUniqueCategories","src","alt","onMouseEnter","onMouseLeave","points","category","topic","_ref3","_ref4","_ref5","_ref6","_ref7","_ref8","x","_ref9","_ref10","_ref11","_ref12","Footer","BlockTitle","link","titleclass","descriptionclass","description","Like","handleLike","itemId","isLike","removeItem","filtered","likeicon","Contributor","Card","data-id","style","backgroundImage","imageUrl","autor","Musiccard","Podcastcard","Collectioncard","grid","number","Promocard","href","Articlelist","handleWindowSizeChange","innerWidth","url","rel","Videocard","Appcard","LoadingSpinner","App","isLoading","$alldata","$allcontributors","sort","Math","random","$api_contributors","resp2","contribuidor","catTemplate","Notfound","Detail","scrollTo","pagedata","$pagedata","datafull","resp3","prevProps","match","params","componentDidMount","matchBlockCat","replace","matchCategoriesWithTemplates","Templates","pagetype","About","Search","categorias","temas","Message","SignUp","nameChangeHandler","toLowerCase","passwordChangeHandler","nextProps","onSubmit","component","autoComplete","onChange","placeholder","required","pattern","Login","HeaderMkt","aria-required","aria-invalid","aria-describedby","mailto","Home","FavItem","Confetti","colour","ceil","$","css","appendTo","drop","animate","top","left","reset","recommendationController","Profile","renderItems","pubItems","likeItems","makeConfetti","checkConfetti","items","hydrateUserPubItems","role","aria-label","dataController","ExternalProfile","urlName","getUserPubItems","Likes","getHydratedFavItems","userLikes","CreateUrl","urlChangeHandler","linkPreview","isLoadingUrl","titleChangeHandler","descriptionChangeHandler","imageUrlChangeHandler","categoriasChangeHandler","temasChangeHandler","showForm","uploadToCloudinary","addItem","itemUrl","ajax","dataType","q","success","handleData","image","autoFocus","itemPreview","hidden","defaultValue","tableContributors","Item","urlItemId","itemData","contributorData","isLikedBy","goBack","itemTemplate","getIsLikedBy","isLikedArr","person","Boolean","hostname","AuthenticatedRoute","rest","render","from","routing","exact","path","Signup","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","view","pageSize","Promise","resolve","reject","select","eachPage","partialRecords","fetchNextPage","createBrowserHistory","getRecommendationById","hydrateUserLikes","likeIds","recommendationsWithDetails","pubitemIds","pubitemWithDetails","findItem","file","xhr","XMLHttpRequest","fd","FormData","open","setRequestHeader","append","send","onreadystatechange","readyState","status","responseText","secure_url","userlikes","itemsWithDetails"],"mappings":"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","file":"static/js/main.d02db67e.chunk.js","sourcesContent":["import history from '../history';\n\nconst bcrypt = require('bcryptjs');\nconst data = require('./dataController');\n\n//AIRTABLE HELPERS\nconst Airtable = require('airtable');\nconst base = new Airtable({\n  apiKey: process.env.REACT_APP_AIRTABLE_API_KEY,\n}).base(process.env.REACT_APP_AIRTABLE_BASE_ID);\nconst table = base('contributors');\nconst tablePrivate = base('contributorsPrivate');\n\n//USER METHODS\nconst findUser = async (email) => {\n  let recordExists = false;\n  let options = { filterByFormula: `(email = '${email}')` };\n\n  const users = await data.getAirtableRecords(tablePrivate, options);\n  users.filter(user => {\n    if (user.get('email') === email) {\n      return (recordExists = true);\n    }\n    return (recordExists = false);\n  });\n\n  return recordExists;\n};\n\n\n//USER MANAGEMENT\nexport const addUser = async (req, next) => {\n  const { email, name } = req;\n  const userExists = await findUser(email);\n  if (userExists) {\n    history.push({\n      pathname: '/signup',\n      state: {\n        type: 'error',\n        message: 'Email already exists!'\n      }\n    })\n    return;\n  }\n  table.create( { name }, function(err, record) {\n      //CREATE USER NAME\n      if (err) {\n        console.error(err);\n        return;\n      }\n      record.fields['id'] = record.id\n      setSession(record.fields)\n      req.id = record.getId();\n      let userData = [req.id] //Needs to be an object\n\n      tablePrivate.create( { email, userData, }, function(err, record) {\n          //CREATE PASS && MAIL IN PRIVATE TABLE\n          if (err) {\n            console.error(err);\n            return;\n          }\n          req.id = record.getId();\n          next(req);//Store Pass method called from Signup.js\n      })\n\n\n    }\n  );\n};\n\nexport const storePassword = (req) => {\n  const { password, id } = req;\n  bcrypt.hash(password, 10, function(err, hash) {\n    if (err) {\n      console.error(err);\n      return;\n    }\n\n    tablePrivate.update( id, { password: hash, }, function(err) {\n        if (err) {\n          console.error(err);\n          return;\n        }\n        history.push({\n          pathname: '/profile',\n          state: {\n            type: 'success',\n            message: 'Your account has been created!!'\n          }\n        })\n\n      }\n    );\n  });\n};\n\nexport const authenticate = (req) => {\n  const { email, password } = req;\n  const options = { filterByFormula: `(email = '${email}')` };\n\n  data\n    .getAirtableRecords(tablePrivate, options)\n    .then(users => {\n      //console.log(users)\n      if(!users.length){\n        // Not registered\n        history.push({\n          pathname: '/login',\n          state: {\n            type: 'info',\n            message: 'That email is not registered... Try to signup!'\n          }\n        })\n      }\n      users.forEach(function(user) {\n        bcrypt.compare(password, user.get('password'), function(err, response) {\n          if (response) {\n            // Passwords match, response = true\n            //ADD ID TO USER SESSION INFO\n            let userid = user.fields['userData'][0]\n            //console.log('authenticate', user, userid)\n            table.find(userid, (err, record) => {\n                if (err) {\n                  console.error(err)\n                  return\n                }\n                //SESSION SHOULD BE PUBLIC DATA!!! Call table with id\n                record.fields['id'] = record.id\n                setSession(record.fields)\n\n                history.push({\n                  pathname: '/profile',\n                  state: {\n                    type: 'info',\n                    message: 'Logged in!'\n                  }\n                })\n\n            });\n\n          } else {\n            // Passwords don't match\n            //console.log('authenticate','Passwords dont match')\n            history.push({\n              pathname: '/login',\n              state: {\n                type: 'error',\n                message: 'Passwords dont match'\n              }\n            })\n\n          }\n        });\n      });\n    })\n    .catch(err => {\n      console.log(Error(err));\n    });\n};\n\n\nexport const updateUserLikes = (likeArr) => {\n  const userId = getSession()?.id\n  //console.log('updateUserLikes', userId, likeArr)\n  if (!userId) return;\n  table.update( userId, { likes: likeArr, }, function(err) {\n      if (err) {\n        console.error(err);\n        return;\n      }\n    }\n  );\n}\n\n\n// @LOCALSTORAGE\n// User Session Helpers\n//\nexport const setSession = (userRecord) => {\n  //Arrives user.fields\n  delete userRecord.password //Dont store ever encrypted pass\n  localStorage.setItem('userSession', JSON.stringify(userRecord));\n}\n\nexport const getSession = () => {\n  return JSON.parse(localStorage.getItem('userSession'));\n}\n\nexport const isAuthenticated = () => {\n  if( localStorage.getItem('userSession') === null ){\n    return false\n  }else{\n    return true\n  }\n}\n\nexport const signOut = () =>{\n  localStorage.clear();\n  history.push({\n    pathname: '/'\n  })\n}\n\n\nexport const setLocalStorageFavs = (likeArr) => {\n  if ( typeof(likeArr) === 'undefined') return\n  //clear storage favs\n  removeStorageFavs()\n  for( const id of likeArr) {\n    localStorage.setItem(id, true); //@TODO Clean this inside of an array\n  }\n}\n\n\nexport const removeStorageFavs = () =>{\n  //Get userSession, delete  all the rest & Set Session again\n  let userSession = JSON.parse(localStorage.getItem('userSession'));\n  localStorage.clear();\n  localStorage.setItem('userSession', JSON.stringify(userSession));\n}\n\n\n\n\n//@LOCALSTORAGE\n//DATA HELPERS\n//NOT USED!!!!!\nexport const setStorage = (key, data) => {\n  localStorage.setItem(key, JSON.stringify(data));\n}\nexport const getStorage = (key) => {\n  return JSON.parse(localStorage.getItem(key));\n}\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M11.9996 22L2.98736 13.305C2.36361 12.7251 1.86334 12.0081 1.52045 11.2026C1.17757 10.3971 1.00007 9.52194 1 8.63643C0.999927 7.75091 1.17728 6.87572 1.52003 6.07016C1.86278 5.2646 2.36293 4.5475 2.98659 3.96745C4.21624 2.79388 5.78832 2.11615 7.43297 2.05061C9.07762 1.98506 10.6922 2.53579 11.9997 3.60825C13.2762 2.52466 14.8668 1.95639 16.494 2.00261C18.1212 2.04884 19.6816 2.70662 20.9028 3.86117L21.0134 3.96746C21.637 4.54753 22.1371 5.26461 22.4799 6.07012C22.8226 6.87564 23 7.75078 23 8.63626C23 9.52173 22.8226 10.3969 22.4799 11.2024C22.1371 12.0079 21.637 12.725 21.0134 13.305L11.9996 22ZM7.68692 5.39519C6.77446 5.38255 5.88941 5.72965 5.19966 6.37064C4.88129 6.64366 4.62209 6.98771 4.44003 7.37892C4.25797 7.77014 4.1574 8.19916 4.14531 8.63624C4.15102 9.04752 4.23828 9.45279 4.40128 9.8251C4.56428 10.1974 4.79928 10.5282 5.09067 10.7956L11.9996 17.4622L18.91 10.7956C19.2056 10.5321 19.4435 10.2021 19.6067 9.82881C19.77 9.45557 19.8546 9.04833 19.8545 8.63604C19.8544 8.22374 19.7697 7.81653 19.6063 7.44336C19.4429 7.07018 19.2049 6.74021 18.9092 6.4769L18.7979 6.36892C18.1019 5.73989 17.2211 5.39505 16.3111 5.39536C15.4011 5.39567 14.5204 5.7411 13.8248 6.37061L12.0011 8.13121L10.175 6.37062C9.48502 5.72948 8.59966 5.38238 7.68692 5.39519Z\",\n  fill: \"#02272C\"\n});\n\nvar SvgHeart = function SvgHeart(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgHeart, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/Heart.143a351b.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M17.5 6.5C17.5 9.5 15 12 12 12C9 12 6.5 9.5 6.5 6.5C6.5 3.5 9 1 12 1C15 1 17.5 3.5 17.5 6.5ZM14.5 6.5C14.5 5.1 13.4 4 12 4C10.6 4 9.5 5.1 9.5 6.5C9.5 7.9 10.6 9 12 9C13.4 9 14.5 7.9 14.5 6.5ZM3 20C3 16.7 5.7 14 9 14H15C18.3 14 21 16.7 21 20V23H18V20C18 18.3 16.6 17 15 17H9C7.4 17 6 18.3 6 20V23H3V20Z\",\n  fill: \"#02272C\"\n});\n\nvar SvgUser = function SvgUser(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgUser, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/User.3a38ace7.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M18.5443 16.3731C19.6147 14.8746 20.2263 13.0703 20.2263 11.1132C20.2263 6.09786 16.1284 2 11.1131 2C6.09786 2 2 6.09786 2 11.1132C2 16.1284 6.09786 20.2263 11.1131 20.2263C13.0703 20.2263 14.8746 19.6147 16.3731 18.5443L19.8287 22L22 19.8287L18.5443 16.3731ZM5.08869 11.1132C5.08869 7.74924 7.77982 5.0581 11.1437 5.0581C14.5076 5.0581 17.1682 7.74924 17.1682 11.1132C17.1682 14.4771 14.4771 17.1376 11.1437 17.1376C7.8104 17.1376 5.08869 14.4465 5.08869 11.1132Z\",\n  fill: \"#02272C\"\n});\n\nvar SvgSearch = function SvgSearch(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgSearch, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/Search.5c801df8.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M7.43293 18.7605C7.58298 18.9139 7.78648 19 7.99868 19H15.9996C16.2118 19 16.4153 18.9139 16.5653 18.7605C16.7153 18.6072 16.7996 18.3992 16.7996 18.1824V15.696C18.2721 14.5695 19.3189 12.9581 19.7634 11.1342C20.2078 9.31017 20.0225 7.38533 19.2389 5.68477C18.4553 3.98422 17.1213 2.61217 15.4623 1.8004C13.8033 0.988632 11.921 0.786892 10.1333 1.22926C8.1833 1.69521 6.48172 2.90612 5.37769 4.61354C4.22471 6.34445 3.77046 8.46356 4.10974 10.5285C4.44903 12.5935 5.55564 14.4448 7.19859 15.696V18.1824C7.19859 18.3992 7.28289 18.6072 7.43293 18.7605ZM13.5993 13.8819V16H10.3989V13.8819L9.60354 13.4092C8.87323 12.9859 8.26585 12.3722 7.84336 11.6307C7.42087 10.8892 7.19838 10.0465 7.19859 9.18852C7.19859 7.88743 7.70436 6.63964 8.60463 5.71963C9.50491 4.79963 10.7259 4.28277 11.9991 4.28277C13.2723 4.28277 14.4933 4.79963 15.3936 5.71963C16.2939 6.63964 16.7996 7.88743 16.7996 9.18852C16.7999 10.0465 16.5774 10.8892 16.1549 11.6307C15.7324 12.3722 15.125 12.9859 14.3947 13.4092L13.5993 13.8819ZM14.6002 20H13.0002H11.4001H9.80003C9.35819 20 9 20.3582 9 20.8C9 21.2419 9.35819 21.6001 9.80003 21.6001H10.6001L10.6001 22.2C10.6001 22.6418 10.9582 23 11.4001 23H13.0002C13.442 23 13.8002 22.6418 13.8002 22.2L13.8002 21.6001H14.6002C15.0421 21.6001 15.4003 21.2419 15.4003 20.8C15.4003 20.3582 15.0421 20 14.6002 20Z\",\n  fill: \"#02272C\"\n});\n\nvar SvgDiscover = function SvgDiscover(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgDiscover, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/Discover.389bf999.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M14.4142 1.68631L11.5858 1.68631L11.5858 11.5859L1.68636 11.5859L1.68636 14.4143L11.5858 14.4143L11.5858 24.3138L14.4142 24.3138L14.4142 14.4143L24.3138 14.4143L24.3138 11.5859L14.4142 11.5859L14.4142 1.68631Z\",\n  fill: \"#02272C\"\n});\n\nvar SvgPlus = function SvgPlus(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 26,\n    height: 26,\n    viewBox: \"0 0 26 26\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgPlus, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/Plus.366ff493.svg\";\nexport { ForwardRef as ReactComponent };","import React, { Component } from \"react\";\nimport { Link } from 'react-router-dom';\nimport {ReactComponent as LikeIcon} from '../icons/Heart.svg';\nimport {ReactComponent as UserIcon} from '../icons/User.svg';\nimport {ReactComponent as SearchIcon} from '../icons/Search.svg';\nimport {ReactComponent as DiscoverIcon} from '../icons/Discover.svg';\nimport {ReactComponent as AddIcon} from '../icons/Plus.svg';\n\nclass BottomBar extends Component {\n\n  constructor(props) {\n    super(props)\n\n    this.toggleClass= this.toggleClass.bind(this);\n    this.state = {\n      activeIndex: null\n    }\n  }\n\n  toggleClass(index, e) {\n\n      this.setState({ activeIndex: index });\n  };\n\n  render() {\n\n    return (\n      <div className=\"bottombar\">\n        <div className=\"bottombar-wapper\">\n              <Link to=\"/feed\" className={`bottombar-item-icon ${this.state.activeIndex===0 ? 'tab-active': ''}`}  onClick={this.toggleClass.bind(this, 0)}>\n                <DiscoverIcon className=\"\"/>\n              </Link>\n              <Link to=\"/search\" className={`bottombar-item-icon ${this.state.activeIndex===1 ? 'tab-active': ''}`} onClick={this.toggleClass.bind(this, 1)}>\n                <SearchIcon className=\"\"/>\n              </Link>\n              <Link to=\"/create\" className={`bottombar-item-icon ${this.state.activeIndex===2 ? 'tab-active': ''}`} onClick={this.toggleClass.bind(this, 2)}>\n                <AddIcon className=\"\"/>\n              </Link>\n              <Link to=\"/likes\" className={`bottombar-item-icon ${this.state.activeIndex===3 ? 'tab-active': ''}`}  onClick={this.toggleClass.bind(this, 3)}>\n                <LikeIcon className=\"\"/>\n              </Link>\n              <Link to=\"/profile\" className={`bottombar-item-icon ${this.state.activeIndex===4 ? 'tab-active': ''}`}  onClick={this.toggleClass.bind(this, 4)}>\n                <UserIcon className=\"\"/>\n              </Link>\n              <span className=\"active-line\"></span>\n        </div>\n      </div>\n\n    );\n  }\n}\n\nexport default BottomBar;\n","//Stores in window global var unique topics from all the records\nfunction storeUniqueTopics(records){\n  //store window unique topics\n  var topics = records.map(function(item) {return item.fields.topics;})\n  const mergeAllTopics = Array.prototype.concat.apply([], topics);\n  const uniqueTopics = mergeAllTopics.filter((val,id,array) => array.indexOf(val) === id);\n  //global variable for the dropdown\n  window.$topics = uniqueTopics.filter(function(e){return e}); //remove empty ones\n}\n\n//Stores in window global var unique categories from all the records\nfunction storeUniqueCategories(records){\n  //store window unique categories\n  var categories = records.map(function(item) {return item.fields.categories;})\n  const mergeAllCategories = Array.prototype.concat.apply([], categories);\n  const uniqueCategories = mergeAllCategories.filter((val,id,array) => array.indexOf(val) === id);\n  //global variable for the dropdown\n  window.$categories = uniqueCategories.filter(function(e){return e}); //remove empty ones\n}\n\n//Returns unique categories from all the records\nfunction getUniqueCategories(records){\n  var categories = records.map(function(item) {return item.fields.categories;})\n  const mergeAllCategories = Array.prototype.concat.apply([], categories);\n  return mergeAllCategories.filter((val,id,array) => array.indexOf(val) === id);\n}\n\n//Returns unique topics from all the records\nfunction getUniqueTopics(records){\n  var topics = records.map(function(item) {return item.fields.topics;})\n  const mergeAllTopics = Array.prototype.concat.apply([], topics);\n  return mergeAllTopics.filter((val,id,array) => array.indexOf(val) === id);\n}\n\n//Returns last second part of the url\nfunction getUrlCategory(){\n  return decodeURIComponent(window.location.pathname.split(\"/\")[1]);\n}\n\n//Returns last part of the url\nfunction getUrlTopic(){\n  return decodeURIComponent(window.location.pathname.split(\"/\").pop());\n}\n\n//@UTILS\n//Truncates text\nfunction truncateText(str, length, ending) {\n    if (length == null) {\n      length = 20;\n    }\n    if (ending == null) {\n      ending = '...';\n    }\n    if (str.length > length) {\n      return str.substring(0, length - ending.length) + ending;\n    } else {\n      return str;\n    }\n  }\n\n  //@STORAGE\n  //Returns an array of favorite items ID\n  function getStorageFavs() {\n    var archive = [],\n        keys = Object.keys(localStorage),\n        i = 0, key;\n    for (; key = keys[i]; i++) {\n        archive.push( key );\n    }\n    //REMOVE USER SESSION FROM LIKES\n    const filtered = archive.filter(item => item !== \"userSession\")\n    const cleanArchive = filtered.filter(function (el) { return el != null; });\n    return cleanArchive;\n  }\n\n  //-------------------------//\n  //-------------------------//\n  //-------------------------//\n  //  RENDER ITEM HELPERS\n  //-------------------------//\n  //-------------------------//\n  //-------------------------//\n\n\n  //Get contributor data by contributor ID \"rec9p8GxW7FJxPtg5\" \"recbofdaqGgFjL20L\"\n  function getContributor(contributors, contributorIdArray){\n    const contributorId = contributorIdArray && contributorIdArray[0]; //check if exists\n    return contributors.filter(contributor => contributor.id.indexOf(contributorId) !== -1);\n  }\n\n  //Get items by category name\n  function getCategoryItems(recommendations, categoryName, size){\n    return recommendations.filter(recommendation => recommendation.fields.categories?.includes(categoryName)).slice(0, size)\n  }\n\n  //Get items by topic name\n  function getTopicItems(recommendations, topicName, size){\n    const topicItems = [];\n    recommendations.filter(recommendation => recommendation.fields.topics?.includes(topicName)).map(filteredTopicItem => (\n        topicItems.push(filteredTopicItem)\n   ));\n   return topicItems.slice(0, size)\n  }\n\n\n  //Get items by collection name\n  function getCollectionItems(recommendations, collectionName, size){\n    const collections = [];\n    recommendations.filter(recommendation => recommendation.fields.collection?.includes(collectionName)).map(filteredCollectionItem => (\n        collections.push(filteredCollectionItem)\n   ));\n   return collections.slice(0, size)\n  }\n\n\n  //Get all items which includes any of categories in passed array\n  function getBlockCategoryItems(recommendations, catArr){\n    return recommendations.filter( (recommendation) => catArr.some((tag) => recommendation.fields.categories?.includes(tag)) );\n  }\n\n\n  export {\n     storeUniqueTopics,\n     storeUniqueCategories,\n     getUniqueCategories,\n     getUniqueTopics,\n     getUrlCategory,\n     getUrlTopic,\n     truncateText,\n     getContributor,\n     getCategoryItems,\n     getTopicItems,\n     getCollectionItems,\n     getBlockCategoryItems,\n     getStorageFavs\n  };\n","import React, { Component } from \"react\";\nimport { Link } from 'react-router-dom';\nimport history from '../history';\nimport {ReactComponent as UserIcon} from '../icons/User.svg';\nimport {ReactComponent as LikeIcon} from '../icons/Heart.svg';\nimport {ReactComponent as AddIcon} from '../icons/Plus.svg';\nimport * as Helpers from '../Helpers';\nconst userController = require('../controllers/userController.js');\n\nclass Header extends Component {\n\n  constructor(){\n      super();\n      this.state = {\n          isHoveredCategories: false,\n          isHoveredTopics: false,\n          categories: [],\n          topics: [],\n          email:''\n      };\n      this.handleHoverCategories = this.handleHoverCategories.bind(this);\n      this.handleHoverTopics = this.handleHoverTopics.bind(this);\n  }\n\n  handleHoverCategories(){\n      this.setState(prevState => ({\n          isHoveredCategories: !prevState.isHoveredCategories\n      }));\n  }\n\n  handleHoverTopics(){\n      this.setState(prevState => ({\n          isHoveredTopics: !prevState.isHoveredTopics\n      }));\n  }\n\n  emailChangeHandler = (event) => {\n    this.setState({email: event.target.value});\n  }\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    //ReactDOM.render(<Signup email={this.state.email}/>, document.getElementById('root'))\n    history.push({\n      pathname: '/signup',\n      state: {\n        email: this.state.email\n      }\n    })\n  }\n\n\n  getUniqueCategories(){\n    fetch(window.$api)\n    .then((resp) => resp.json())\n    .then(data => {\n      Helpers.storeUniqueTopics(data.records)\n      Helpers.storeUniqueCategories(data.records)\n      this.setState({\n        categories: window.$categories,\n        topics: window.$topics\n      });\n    })\n  }\n\n  componentDidMount() {\n    if ( !window.$categories || !window.$topics) {\n      this.getUniqueCategories()\n    }else{\n      this.setState({\n        categories: window.$categories,\n        topics: window.$topics\n      });\n    }\n  }\n\n  render() {\n\n    return (\n      <header className=\"header no@m\">\n        <div className=\"container flex-justify\">\n\n          <ul id=\"primarymenu\" className=\"nav menu\">\n\n            <li><Link to=\"/\"><img className=\"logo\" src={process.env.PUBLIC_URL + '/logo.svg'} alt=\"logo\"/></Link></li>\n\n            <li><Link to=\"/feed\">Discover</Link></li>\n            { userController.isAuthenticated() ? (\n            <li id=\"menuitem-categorias\" className={ this.state.isHoveredCategories ? \"hoverstate\" : \"\" } onMouseEnter={this.handleHoverCategories} onMouseLeave={this.handleHoverCategories}>\n              <div>Feel like?</div>\n              <svg viewBox=\"0 0 30 30\" className=\"chevron\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg>\n              <div id={'dropdown-categorias'} className=\"drop-overlay\">\n                <ul>\n                  {this.state.categories && this.state.categories.map((category, key) =>\n                    <li key={key}>\n                      <Link to={`/categories/${category}`}>{category}</Link>\n                    </li>\n                  )}\n                </ul>\n              </div>\n            </li>\n            ) : '' }\n            { userController.isAuthenticated() ? (\n            <li id=\"menuitem-temas\" className={ this.state.isHoveredTopics ? \"hoverstate\" : \"\" } onMouseEnter={this.handleHoverTopics} onMouseLeave={this.handleHoverTopics}>\n              <div>Topics</div>\n              <svg viewBox=\"0 0 30 30\" className=\"chevron\"><polygon points=\"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 \"></polygon></svg>\n              <div id={'dropdown-temas'} className=\"drop-overlay\">\n                <ul>\n                  {this.state.topics && this.state.topics.map((topic, key) =>\n                    <li key={key}>\n                      <Link to={`/topics/${topic}`}>{topic}</Link>\n                    </li>\n                  )}\n                </ul>\n              </div>\n            </li>\n            ) : '' }\n\n          </ul>\n          { userController.isAuthenticated() ? (\n            <ul id=\"usermenu\" className=\"nav menu\">\n              <li>\n                <Link to=\"/create\" className=\"link\"><AddIcon /> Create</Link>\n              </li>\n              <li>\n                <Link to=\"/likes\"><LikeIcon /> Likes</Link>\n              </li>\n              <li>\n                <Link to=\"/profile\"><UserIcon /> Profile</Link>\n              </li>\n            </ul>\n          ) : (\n            <div className=\"button button-outline button-header-login\"><Link to=\"/signup\">SignUp</Link></div>\n          )}\n\n\n        </div>\n      </header>\n    );\n  }\n}\n\nexport default Header;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M2.805 12.075H14.999V9.542H2.805V6.822H15.237V4.306H0V16.427H2.805V12.075Z\",\n  fill: \"white\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M26.0918 13.792L27.3838 16.427H30.4268L24.1878 4.306H21.1788L15.0418 16.427H18.1188L19.3768 13.792H26.0918ZM22.6748 6.873L24.9358 11.48H20.4818L22.6748 6.873Z\",\n  fill: \"white\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M33.529 16.427H36.436L42.369 4.306H39.292L35.093 13.299L31.251 4.306H28.14L33.529 16.427Z\",\n  fill: \"white\"\n});\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M43.7275 16.427H50.5615C53.2475 16.427 55.0665 16.019 56.0185 14.999C56.4945 14.506 56.7325 13.792 56.7325 12.908V12.84C56.7325 11.123 55.8825 10.443 53.9275 10.171C55.6615 9.848 56.4265 9.151 56.4265 7.587V7.485C56.4265 5.054 54.4715 4.306 50.4425 4.306H43.7275V16.427ZM46.4985 6.55H50.6125C52.0745 6.55 52.9075 6.618 53.3155 6.958C53.5195 7.145 53.6215 7.417 53.6215 7.808V7.876C53.6215 8.607 53.1115 8.913 52.2445 9.032C51.7855 9.083 51.3095 9.1 50.7145 9.1H46.4985V6.55ZM46.4985 11.31H50.4085C52.1935 11.31 53.1285 11.395 53.5195 11.786C53.7235 11.973 53.8255 12.262 53.8255 12.653V12.721C53.8255 13.435 53.5195 13.792 52.4655 13.928C51.9385 14.013 51.2075 14.047 50.2045 14.047H46.4985V11.31Z\",\n  fill: \"white\"\n});\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M65.4654 16.767C68.3214 16.767 70.5654 15.866 71.7894 14.013C72.4354 13.078 72.7244 11.922 72.7244 10.511V10.392C72.7244 7.638 71.3984 5.734 69.1884 4.748C68.0664 4.255 66.8594 4 65.4484 4C62.6434 4 60.4164 5.02 59.1584 6.941C58.5464 7.893 58.2234 9.049 58.2234 10.409V10.494C58.2234 13.418 59.4644 15.22 61.6574 16.104C62.7454 16.563 64.0034 16.767 65.4654 16.767ZM65.4484 14.183C62.7624 14.183 61.1644 13.027 61.1644 10.477V10.46C61.1644 7.689 62.7624 6.567 65.4654 6.567C67.2674 6.567 68.5424 7.043 69.2564 8.182C69.6134 8.777 69.7834 9.525 69.7834 10.477V10.494C69.7834 12.313 69.0524 13.367 67.7604 13.826C67.1144 14.081 66.3664 14.183 65.4484 14.183Z\",\n  fill: \"white\"\n});\n\nvar _ref7 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M80.079 11.82L83.955 16.427H87.508L81.898 9.967L87.1 4.306H83.513L80.113 8.318L76.696 4.306H73.143L78.243 9.984L72.429 16.427H76.084L80.079 11.82Z\",\n  fill: \"white\"\n});\n\nvar _ref8 = /*#__PURE__*/React.createElement(\"rect\", {\n  x: 89.64,\n  width: 20,\n  height: 9,\n  fill: \"#2E5AF6\"\n});\n\nvar _ref9 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M91.64 7.00007H92.4696V6.32109H92.5406C92.694 6.5995 93.0065 7.08529 93.8019 7.08529C94.8588 7.08529 95.6258 6.2387 95.6258 4.82677C95.6258 3.412 94.8474 2.57961 93.7934 2.57961C92.9838 2.57961 92.6912 3.07393 92.5406 3.34382H92.4894V1.18188H91.64V7.00007ZM92.4724 4.81825C92.4724 3.90632 92.8701 3.3012 93.6116 3.3012C94.3815 3.3012 94.7679 3.95177 94.7679 4.81825C94.7679 5.69325 94.3701 6.36086 93.6116 6.36086C92.8815 6.36086 92.4724 5.73586 92.4724 4.81825Z\",\n  fill: \"white\"\n});\n\nvar _ref10 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M98.5403 7.08813C99.492 7.08813 100.165 6.61939 100.359 5.90916L99.5545 5.76427C99.4011 6.1762 99.0318 6.38643 98.5488 6.38643C97.8216 6.38643 97.3329 5.91484 97.3102 5.07393H100.412V4.77279C100.412 3.19609 99.4693 2.57961 98.4807 2.57961C97.2648 2.57961 96.4636 3.50575 96.4636 4.84666C96.4636 6.20177 97.2534 7.08813 98.5403 7.08813ZM97.3131 4.43757C97.3471 3.81825 97.796 3.28132 98.4863 3.28132C99.1454 3.28132 99.5773 3.76995 99.5801 4.43757H97.3131Z\",\n  fill: \"white\"\n});\n\nvar _ref11 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M103.472 2.63643H102.577V1.59098H101.728V2.63643H101.088V3.31825H101.728V5.89495C101.725 6.68757 102.33 7.07109 103 7.05688C103.27 7.05404 103.452 7.00291 103.551 6.96598L103.398 6.26427C103.341 6.27563 103.236 6.3012 103.1 6.3012C102.824 6.3012 102.577 6.21029 102.577 5.71882V3.31825H103.472V2.63643Z\",\n  fill: \"white\"\n});\n\nvar _ref12 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M105.761 7.09666C106.483 7.09666 106.889 6.73018 107.051 6.40348H107.085V7.00007H107.915V4.10234C107.915 2.83245 106.915 2.57961 106.222 2.57961C105.432 2.57961 104.705 2.89779 104.42 3.69325L105.219 3.87507C105.344 3.56541 105.662 3.26711 106.233 3.26711C106.781 3.26711 107.063 3.55404 107.063 4.04836V4.06825C107.063 4.37791 106.744 4.37223 105.96 4.46313C105.134 4.55973 104.287 4.77563 104.287 5.76711C104.287 6.62507 104.932 7.09666 105.761 7.09666ZM105.946 6.41484C105.466 6.41484 105.119 6.19893 105.119 5.77848C105.119 5.32393 105.523 5.162 106.014 5.09666C106.29 5.05973 106.943 4.98586 107.065 4.8637V5.4262C107.065 5.94325 106.653 6.41484 105.946 6.41484Z\",\n  fill: \"white\"\n});\n\nvar SvgLogoInverted = function SvgLogoInverted(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 110,\n    height: 17,\n    viewBox: \"0 0 110 17\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9, _ref10, _ref11, _ref12);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgLogoInverted, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/logo-inverted.63547240.svg\";\nexport { ForwardRef as ReactComponent };","import React, { Component } from \"react\";\nimport {ReactComponent as LogoInverted} from '../icons/logo-inverted.svg';\n\nclass Footer extends Component {\n  render() {\n    return (\n      <footer className=\"footer no@m\">\n        <div className=\"container flex-justify\">\n                <LogoInverted />\n                <div className=\"footnote\">Favbox Beta. Made with love in Madrid during #COVID19 quarantine.</div>\n        </div>\n      </footer>\n    );\n  }\n}\n\nexport default Footer;\n","import React, { Component } from \"react\";\nimport { Link } from 'react-router-dom';\n\nclass BlockTitle extends Component {\n  render() {\n\n    return (\n        <div className=\"container title-block\">\n          {this.props.link ? <Link to={this.props.link} className={`block-title title-has-arrow ${this.props.titleclass}`}>{this.props.title}</Link> : <h2 className={`block-title ${this.props.titleclass}`}>{this.props.title}</h2>}\n          <p className={`block-description ${this.props.descriptionclass}`}>{this.props.description}</p>\n        </div>\n    );\n  }\n}\n\nexport default BlockTitle;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M2.98736 13.305L11.9996 22L21.0134 13.305C21.637 12.725 22.1371 12.0079 22.4799 11.2024C22.8226 10.3969 23 9.52173 23 8.63626C23 7.75078 22.8226 6.87564 22.4799 6.07012C22.1371 5.26461 21.637 4.54753 21.0134 3.96746L20.9028 3.86117C19.6816 2.70662 18.1212 2.04884 16.494 2.00261C14.8668 1.95639 13.2762 2.52466 11.9997 3.60825C10.6922 2.53579 9.07762 1.98506 7.43297 2.05061C5.78832 2.11615 4.21624 2.79388 2.98659 3.96745C2.36293 4.5475 1.86278 5.2646 1.52003 6.07016C1.17728 6.87572 0.999927 7.75091 1 8.63643C1.00007 9.52194 1.17757 10.3971 1.52045 11.2026C1.86334 12.0081 2.36361 12.7251 2.98736 13.305Z\",\n  fill: \"#EB4962\"\n});\n\nvar SvgHeartFull = function SvgHeartFull(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgHeartFull, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/HeartFull.e07c0bed.svg\";\nexport { ForwardRef as ReactComponent };","import React, { Component } from \"react\";\nimport {ReactComponent as LikeIcon} from '../icons/Heart.svg';\nimport {ReactComponent as LikeIconActive} from '../icons/HeartFull.svg';\nimport history from '../history';\nconst userController = require('../controllers/userController.js');\n\n\nconst Airtable = require('airtable');\nconst base = new Airtable({\n  apiKey: process.env.REACT_APP_AIRTABLE_API_KEY,\n}).base(process.env.REACT_APP_AIRTABLE_BASE_ID);\nconst table = base('contributors');\n\n\n\nclass Like extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLike: localStorage.getItem(this.props.itemId) !== null  //Default False -> if NOT NULL ||  if Exists -> True\n    };\n  }\n\n\n  handleLike = (e) => {\n    //console.log('handleLike',this.props.itemId)\n    e.preventDefault();\n    const item = e.target.value;\n    const userid = userController.getSession()?.id;\n    const itemId = this.props.itemId\n\n    if ( !userController.isAuthenticated() ){\n      history.push({ pathname: '/signup' })\n      return\n    }\n    //@TODO Clean this inside of an array\n    if (localStorage.getItem(item) === null) {\n      //CREATE a like\n      //First local\n      localStorage.setItem(item, true);\n      this.setState({isLike: true});\n      //GET table likes\n      let likeArr = []\n      table.find(userid, (err, record) => {\n          if (err) {\n            console.error(err)\n            return\n          }\n          if(typeof record.get('likes') === 'undefined') {\n             //empty\n             likeArr.push(itemId)\n          }else{\n            likeArr = record.get('likes')\n            likeArr.push(itemId)\n          }\n          //UPDATE Table likes with added\n          table.update( userid, { likes: likeArr, },\n            function(err, record) {\n              if (err) {\n                console.error(err);\n                return;\n              }\n              //console.log('created', likeArr)\n            }\n          );\n      })\n      return true\n\n\n    }else{\n      //REMOVE the like\n      //First local\n      localStorage.removeItem(item);\n      this.setState({isLike: false});\n      //GET table likes\n      let filtered = []\n      table.find(userid, (err, record) => {\n        if (err) {\n          console.error(err)\n          return\n        }\n        if(typeof record.get('likes') === 'undefined') {\n           //empty\n           return\n        }else{\n          filtered = record.get('likes').filter(item => item !== itemId)\n          //console.log('filtered',filtered)\n        }\n        //UPDATE Table likes removing the like\n        table.update( userid, { likes: filtered, },\n          function(err, record) {\n            if (err) {\n              console.error(err);\n              return;\n            }\n            //console.log('removed', filtered)\n          }\n        )\n      })\n      return false\n    }\n  }\n\n\n  render() {\n    let likeicon;\n    //likeicon.removeEventListener('click')\n    if (this.state.isLike) {\n      likeicon = <LikeIconActive />;\n    } else {\n      likeicon = <LikeIcon />;\n    }\n\n    return (\n      <div className=\"like\">\n        <button className={`likebutton is-like-${this.state.isLike}`} value={this.props.itemId} onClick={this.handleLike}>\n            {likeicon}\n        </button>\n      </div>\n    );\n  }\n}\n\nexport default Like;\n","import React, { Component } from \"react\";\nimport {ReactComponent as UserIcon} from '../icons/User.svg';\nimport { Link } from 'react-router-dom';\n\n//@TODO\n//REVIEW DEFAULT VALUES && EMPTY USERS\n//this.props.contributor.avatar[0].url\n\nclass Contributor extends Component {\n\n  render() {\n    if(!this.props.contributor) return(\n      <div className=\"contributor\"></div>\n    )\n\n    return (\n\n      <div className=\"contributor\">\n        <div className=\"user-badge\">\n          <UserIcon />\n        </div>\n        <div className=\"contributor-info\">\n          <Link to={`/profile/${this.props.contributor.name}`} className=\"contributor-name link-inverted\">{this.props.contributor.name}</Link>\n          <div className=\"contributor-description\">{this.props.contributor.description}</div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Contributor;\n","import React, { Component } from \"react\";\nimport { Link } from 'react-router-dom';\nimport Like from './Like';\nimport Contributor from './Contributor';\n\nclass Card extends Component {\n\n  render() {\n\n    return (\n\n      <Link to={`/item/${this.props.itemId}`} data-id={this.props.itemId} className=\"card grid__item width-3/12 width-6/12@m\" style={{backgroundImage: `url(${this.props.imageUrl})`}}>\n        <Like itemId={this.props.itemId}/>\n        <div className={`card-content ${\"is-\" + this.props.categories}`}>\n          <div className=\"card-category badge inline\">{this.props.categories}</div>\n          <h3 className=\"card-title\">{this.props.title}</h3>\n          <div className=\"card-description no@m\">{this.props.description}</div>\n          <Contributor contributor={this.props.autor[0]?.fields} />\n        </div>\n      </Link>\n\n    );\n  }\n}\n\nexport default Card;\n","import React, { Component } from \"react\";\nimport { Link } from 'react-router-dom';\nimport Like from './Like';\nimport Contributor from './Contributor';\n\nclass Musiccard extends Component {\n  render() {\n\n\n    return (\n      <Link to={`/item/${this.props.itemId}`} data-id={this.props.itemId} className=\"musiccard width-3/12 width-6/12@m\">\n        <div className=\"musiccard-album\">\n          <Like itemId={this.props.itemId}/>\n          <div className=\"musiccard-album-contents\">\n            <img className=\"play\" src={process.env.PUBLIC_URL + '/img/play.svg'} alt=\"play\"/>\n            <Contributor contributor={this.props.autor[0]?.fields}/>\n          </div>\n          <img className=\"musiccard-album-img\" src={this.props.imageUrl} alt=\"cover\"/>\n        </div>\n        <h6 className=\"musiccard-title\">{this.props.title}</h6>\n        <div className=\"musiccard-description\">{this.props.description}</div>\n      </Link>\n    );\n  }\n}\n\nexport default Musiccard;\n","import React, { Component } from \"react\";\nimport { Link } from 'react-router-dom';\nimport * as Helpers from '../Helpers';\nimport Like from './Like';\nimport Contributor from './Contributor';\n\nclass Podcastcard extends Component {\n  render() {\n\n\n    return (\n      <Link to={`/item/${this.props.itemId}`} data-id={this.props.itemId} className=\"podcastcard width-6/12 width-12/12@m\">\n\n        <div className=\"podcastcard-album\">\n          <div className=\"podcastcard-album-contents\">\n            <img className=\"play\" src={process.env.PUBLIC_URL + '/img/play.svg'} alt=\"play\"/>\n          </div>\n          <img className=\"podcastcard-album-img\" src={this.props.imageUrl} alt=\"cover\"/>\n        </div>\n        <Like itemId={this.props.itemId}/>\n        <div className=\"podcastcard-content\">\n          <h6 className=\"podcastcard-title\">{this.props.title}</h6>\n          <div className=\"podcastcard-description\">{Helpers.truncateText(this.props.description, 70)}</div>\n          <Contributor contributor={this.props.autor[0]?.fields}/>\n        </div>\n\n      </Link>\n    );\n  }\n}\n\nexport default Podcastcard;\n","import React, { Component } from \"react\";\nimport { Link } from 'react-router-dom';\n\nclass Collectioncard extends Component {\n  render() {\n    return (\n\n        <Link to={ '/collection/' + this.props.title } className={`grid__item collection-card bg-cyan ${this.props.grid} width-12/12@m`}>\n          <div className=\"collection-card__title-container\">\n            <h3 className=\"collection-card__title\">\n              {this.props.title}\n            </h3>\n          </div>\n          <div className=\"collection-card__number\">{this.props.number} Items publicados</div>\n      </Link>\n    );\n  }\n}\n\nexport default Collectioncard;\n","import React, { Component } from \"react\";\n\nclass Promocard extends Component {\n  render() {\n\n\n    return (\n\n      <div className=\"Promo\">\n        <div className=\"container\">\n          <div className=\"Promocard grid\">\n              <div className=\"grid__item width-10/12 width-12/12@m\">\n                <div className=\"sticker\">\n                  <span className=\"letter\">H</span>\n                  <span className=\"letter\">E</span>\n                  <span className=\"letter\">Y</span>\n                  <span className=\"letter\">!</span>\n                </div>\n                <h3 className=\"mt-xs\">Tell the world what inspires you</h3>\n                <p>We will find recommendations for you and you will be able share your favorite inspiration sources</p>\n              </div>\n              <div className=\"grid__item width-2/12 width-12/12@m\">\n                <a className=\"button\" href=\"/signup\">Get started!</a>\n              </div>\n          </div>\n        </div>\n      </div>\n\n    );\n  }\n}\n\nexport default Promocard;\n","import React, { Component } from \"react\";\nimport Like from './Like';\nimport Contributor from './Contributor';\n\nclass Articlelist extends Component {\n\n  constructor() {\n    super();\n    this.state = {\n      width: window.innerWidth,\n    };\n  }\n\n  handleWindowSizeChange = () => {\n    this.setState({ width: window.innerWidth });\n  };\n\n  render() {\n    const { width } = this.state;\n    const isMobile = width <= 500;\n\n    if (isMobile) {\n      return (\n        <a className=\"articlelist\" href={this.props.url} target=\"_blank\" rel=\"noopener noreferrer\">\n          <div className=\"articlelist-title\">\n            <div className=\"articlelist-category badge inline\">{this.props.categories}</div>\n            <h5>{this.props.title}</h5>\n          </div>\n          <div className=\"articlelist-description\">\n            <p>{this.props.description}</p>\n            <Contributor contributor={this.props.autor[0]?.fields}/>\n          </div>\n          <Like itemId={this.props.itemId}/>\n        </a>\n      );\n    } else {\n      return (\n        <a className=\"articlelist\" href={this.props.url} target=\"_blank\" rel=\"noopener noreferrer\">\n          <div className=\"articlelist-title\">\n            <h5>{this.props.title}</h5>\n            <Contributor contributor={this.props.autor[0]?.fields}/>\n          </div>\n          <div className=\"articlelist-description\">\n            <div className=\"articlelist-category badge inline\">{this.props.categories}</div>\n            <p>{this.props.description}</p>\n          </div>\n          <Like itemId={this.props.itemId}/>\n        </a>\n      );\n    }\n  }\n}\n\nexport default Articlelist;\n","import React, { Component } from \"react\";\nimport { Link } from 'react-router-dom';\nimport * as Helpers from '../Helpers';\nimport Like from './Like';\nimport Contributor from './Contributor';\n\nclass Videocard extends Component {\n  render() {\n\n    return (\n      <Link to={`/item/${this.props.itemId}`} data-id={this.props.itemId} className=\"videocard width-4/12 width-6/12@m\">\n        <Like itemId={this.props.itemId}/>\n        <div className=\"videocard-cover\">\n          <img className=\"play\" src={process.env.PUBLIC_URL + '/img/play.svg'} alt=\"play\"/>\n          <img className=\"videocard-cover-img\" src={this.props.imageUrl} alt=\"cover\"/>\n        </div>\n        <h6 className=\"videocard-title\">{Helpers.truncateText(this.props.title, 40)}</h6>\n        <div className=\"videocard-description\">{Helpers.truncateText(this.props.description, 90)}</div>\n        <Contributor contributor={this.props.autor[0]?.fields}/>\n      </Link>\n    );\n  }\n}\n\nexport default Videocard;\n","import React, { Component } from \"react\";\nimport { Link } from 'react-router-dom';\nimport * as Helpers from '../Helpers';\nimport Like from './Like';\nimport Contributor from './Contributor';\n\nclass Appcard extends Component {\n  render() {\n\n    return (\n\n      <Link to={`/item/${this.props.itemId}`} data-id={this.props.itemId} className=\"appcard width-6/12 width-12/12@m\">\n\n        <div className=\"appcard-icon-wrap\">\n          <div className=\"appcard-icon\">\n            <Like itemId={this.props.itemId}/>\n            <img className=\"appcard-img\" src={this.props.imageUrl} alt=\"icon\"/>\n          </div>\n        </div>\n\n        <div className=\"appcard-content\">\n          <h6 className=\"appcard-title\">{this.props.title}</h6>\n          <div className=\"appcard-description\">{Helpers.truncateText(this.props.description, 50)}</div>\n          <Contributor contributor={this.props.autor[0]?.fields}/>\n        </div>\n      </Link>\n    );\n  }\n}\n\nexport default Appcard;\n","import React, { Component } from \"react\";\n\nclass LoadingSpinner extends Component {\n  render() {\n\n    return (\n        <div className=\"container loader-container\">\n          <div className=\"rotating-wrapper\">\n            <img src={process.env.PUBLIC_URL + '/img/text.svg'} className=\"rotating-text rotating\" alt=\"Mequedoencasa\"/>\n          </div>\n        </div>\n    );\n  }\n}\n\nexport default LoadingSpinner;\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport * as Helpers from './Helpers';\n\nimport Header from './components/Header';\nimport Footer from './components/Footer';\nimport BlockTitle from './components/BlockTitle';\nimport Card from './components/Card';\nimport Musiccard from './components/Musiccard';\nimport Podcastcard from './components/Podcastcard';\nimport Collectioncard from './components/Collectioncard';\nimport Promocard from './components/Promocard';\nimport Articlelist from './components/Articlelist';\nimport Videocard from './components/Videocard';\nimport Appcard from './components/Appcard';\nimport LoadingSpinner from './components/LoadingSpinner';\n\nconst userController = require('./controllers/userController.js');\n\n\nclass App extends Component {\n\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading: true,\n      recommendations: [],\n      contributors: [],\n      isAuthenticated: userController.isAuthenticated()\n    };\n  }\n\n  componentDidMount() {\n    if(window.$alldata && window.$allcontributors){\n      this.setState({\n        isLoading: false,\n        recommendations: window.$alldata.sort(() => Math.random() - 0.5),//random order\n        contributors: window.$allcontributors.records}\n      );\n      return\n    }\n    fetch(window.$api)\n    .then((resp) => resp.json())\n    .then(data => {\n      Helpers.storeUniqueTopics(data.records)\n      Helpers.storeUniqueCategories(data.records)\n      window.$alldata = data.records;\n\n      return fetch(window.$api_contributors)\n\n    })\n    .then((resp2, data) => resp2.json())\n    .then(contributors => {\n      window.$allcontributors = contributors;\n      this.setState({\n        isLoading: false,\n        recommendations: window.$alldata.sort(() => Math.random() - 0.5),//random order\n        contributors: contributors.records}\n      );\n    })\n    .catch(err => {\n      // Error\n      console.err(err)\n    });\n  }\n\n  render() {\n\n          return (\n            <div className={ userController.isAuthenticated() ? 'app_wrapper app_view' : 'app_wrapper app-view-not-logged' }>\n\n              <Header />\n\n              <div className=\"global appview\">\n\n                <main>\n\n                    <section className=\"GridCard\">\n                        <BlockTitle title={'Books'} link={'categories/book'}/>\n                        <div className=\"container container-xl\">\n                            <div className=\"grid\">\n                              {this.state.isLoading ? <LoadingSpinner /> : Helpers.getCategoryItems(this.state.recommendations, 'book', 4).map((records) =>\n                                <Card {...records.fields} key={records.id} itemId={records.id} autor={Helpers.getContributor(this.state.contributors, records.fields.contribuidor)}/>\n                              )}\n                            </div>\n                        </div>\n                    </section>\n\n                    <section className=\"GridCard block\">\n                        <BlockTitle title={'Movies & shows'} link={'categories/show'}/>\n                        <div className=\"container container-xl\">\n                            <div className=\"grid\">\n                              {this.state.isLoading ? <LoadingSpinner /> : Helpers.getCategoryItems(this.state.recommendations, 'movie', 8).map((records) =>\n                                <Card {...records.fields} key={records.id} itemId={records.id} autor={Helpers.getContributor(this.state.contributors, records.fields.contribuidor)}/>\n                              )}\n                              {this.state.isLoading ? '' : Helpers.getCategoryItems(this.state.recommendations, 'show', 8).map((records) =>\n                                <Card {...records.fields} key={records.id} itemId={records.id} autor={Helpers.getContributor(this.state.contributors, records.fields.contribuidor)}/>\n                              )}\n                            </div>\n                        </div>\n                    </section>\n\n                    <section className=\"MusicGrid block\">\n                        <BlockTitle title={'Music'} link={'categories/music'}/>\n                        <div className=\"container\">\n                            <div className=\"grid\">\n                                {this.state.isLoading ? <LoadingSpinner /> : Helpers.getCategoryItems(this.state.recommendations,'music', 8).map((records) =>\n                                  <Musiccard {...records.fields} key={records.id} itemId={records.id} autor={Helpers.getContributor(this.state.contributors, records.fields.contribuidor)}/>\n                                )}\n                            </div>\n                        </div>\n\n                        <BlockTitle title={'Podcasts'} link={'categories/podcast'} titleclass=\"mt-l\"/>\n                        <div className=\"container\">\n                            <div className=\"grid mt-s\">\n                                {this.state.isLoading ? <LoadingSpinner /> : Helpers.getCategoryItems(this.state.recommendations,'podcast', 4).map((records) =>\n                                  <Podcastcard {...records.fields} key={records.id} itemId={records.id} autor={Helpers.getContributor(this.state.contributors, records.fields.contribuidor)}/>\n                                )}\n                            </div>\n                        </div>\n                    </section>\n\n\n                    <section className=\"GridCard block\">\n                        <BlockTitle title={'Magazines'} link={'categories/magazine'}/>\n                        <div className=\"container container-xl\">\n                          <div className=\"grid\">\n                              {this.state.isLoading ? <LoadingSpinner /> : Helpers.getCategoryItems(this.state.recommendations,'magazine', 4).map((records) =>\n                                <Card {...records.fields} key={records.id} itemId={records.id} autor={Helpers.getContributor(this.state.contributors, records.fields.contribuidor)}/>\n                              )}\n                            <img className=\"lines\" src={process.env.PUBLIC_URL + '/img/dot-3.svg'} alt=\"lines\"/>\n                          </div>\n                        </div>\n                    </section>\n\n\n                    <section className=\"AppGrid block\">\n                        <div className=\"container\">\n                              <div className=\"grid\">\n                                    <div className=\"grid__item width-8/12 width-12/12@m grid\">\n                                        {this.state.isLoading ? <LoadingSpinner /> : Helpers.getCategoryItems(this.state.recommendations,'app', 8).map((records) =>\n                                          <Appcard {...records.fields} key={records.id} itemId={records.id} autor={Helpers.getContributor(this.state.contributors, records.fields.contribuidor)}/>\n                                        )}\n                                    </div>\n                                    <div className=\"grid__item width-4/12 width-12/12@m\">\n                                        <BlockTitle title={'Apps'} description={'Apps for everyone'} link={'categories/app'}/>\n                                    </div>\n                              </div>\n                        </div>\n                    </section>\n\n\n                    <section className=\"GridVideo block\">\n                        <BlockTitle title={'Videos'} link={'categories/video'}/>\n                        <div className=\"container container-xl\">\n                          <div className=\"grid\">\n                              {this.state.isLoading ? <LoadingSpinner /> : Helpers.getCategoryItems(this.state.recommendations,'video', 6).map((records) =>\n                                <Videocard {...records.fields} key={records.id} itemId={records.id} autor={Helpers.getContributor(this.state.contributors, records.fields.contribuidor)}/>\n                              )}\n                          </div>\n                        </div>\n                    </section>\n\n\n\n\n                    <section className=\"GridColection block\">\n                        <BlockTitle title={'Collections'} description={'Collections made to inspire'}/>\n                        <div className=\"container container-xl\">\n                          <div className=\"grid mt-s\">\n                              <Collectioncard title={'darle al coco'} grid={'width-4/12'} number={Helpers.getCollectionItems(this.state.recommendations, 'darle al coco').length}/>\n                              <Collectioncard title={'mantenerse en forma'} grid={'width-4/12'} number={Helpers.getCollectionItems(this.state.recommendations, 'mantenerse en forma').length} />\n                              <Collectioncard title={'futuros'} grid={'width-4/12'} number={Helpers.getCollectionItems(this.state.recommendations, 'futuros').length} />\n                          </div>\n                        </div>\n                    </section>\n\n\n                    <section className=\"ArticlesGrid block\">\n                      <BlockTitle\n                        title={'What to read'}\n                        description={'Articles, newsletters & webs.'}\n                        titleclass=\"big-title\" descriptionclass=\"big-description\" link={'categories/article'}/>\n                      <div className=\"container\">\n                        <div className=\"mt-s\">\n                            {this.state.isLoading ? <LoadingSpinner /> : Helpers.getCategoryItems(this.state.recommendations,'article', 20).map((records) =>\n                              <Articlelist {...records.fields} key={records.id} itemId={records.id} autor={Helpers.getContributor(this.state.contributors, records.fields.contribuidor)}/>\n                            )}\n                            {this.state.isLoading ? <LoadingSpinner /> : Helpers.getCategoryItems(this.state.recommendations,'newsletter', 20).map((records) =>\n                              <Articlelist {...records.fields} key={records.id} itemId={records.id} autor={Helpers.getContributor(this.state.contributors, records.fields.contribuidor)}/>\n                            )}\n                            {this.state.isLoading ? <LoadingSpinner /> : Helpers.getCategoryItems(this.state.recommendations,'web', 20).map((records) =>\n                              <Articlelist {...records.fields} key={records.id} itemId={records.id} autor={Helpers.getContributor(this.state.contributors, records.fields.contribuidor)}/>\n                            )}\n                        </div>\n                      </div>\n                    </section>\n\n                    { this.state.isAuthenticated ? '' : <section className=\"block no@m\"><Promocard /></section> }\n\n\n                    <section className=\"TopicCollection no@m\">\n                      <div className=\"container container-s\">\n                        <div className=\"grid\">\n                          {window.$topics && window.$topics.map((topics, key) =>\n                              <Link to={`/topics/${topics}`} key={key} className=\"topic-card width-3/12 width-6/12@m\">{topics}</Link>\n                          )}\n                        </div>\n                      </div>\n                    </section>\n\n\n\n                </main>\n              </div>\n\n              <Footer />\n\n\n            </div>\n          );//render\n\n  }\n}\n\nexport default App;\n","import React from 'react';\n\nimport Card from '../components/Card';\nimport BlockTitle from '../components/BlockTitle';\nimport Musiccard from '../components/Musiccard';\nimport Podcastcard from '../components/Podcastcard';\nimport Articlelist from '../components/Articlelist';\nimport Videocard from '../components/Videocard';\nimport Appcard from '../components/Appcard';\n\nimport * as Helpers from '../Helpers';\n\n\nexport const catTemplate = {\n  card:         ['book', 'magazine'],\n  musiccard:    ['music'],\n  podcastcard : ['podcast'],\n  articlelist : ['article', 'web', 'newsletter'],\n  videocard:    ['video'],\n  appcard:      ['app'],\n  cinemacard:   ['movie', 'show']\n};\n\n// Render items by Template Blocks\n// First define item types to render in groups\n// Then render items in blocks with title & templates\n\nfunction renderCardItems(recommendations, contributors) {\n  return (\n    <div className=\"GridCard\">\n        <div className=\"container container-xl\">\n            <div className=\"grid\">\n              {Helpers.getBlockCategoryItems(recommendations, catTemplate.card).map((records) =>\n                <Card {...records.fields} key={records.id} itemId={records.id} autor={Helpers.getContributor(contributors, records.fields.contribuidor)}/>\n              )}\n            </div>\n        </div>\n    </div>\n  )\n}\n\nfunction renderMusicItems(recommendations, contributors, pagetype) {\n  return(\n    <div className=\"MusicGrid-detail mt-l\">\n      <BlockTitle title={pagetype==='categories' ? '' : 'Music'}/>\n      <div className=\"container\">\n          <div className=\"grid\">\n              {Helpers.getBlockCategoryItems(recommendations, catTemplate.musiccard).map((records) =>\n                <Musiccard {...records.fields} key={records.id} itemId={records.id} autor={Helpers.getContributor(contributors, records.fields.contribuidor)}/>\n              )}\n          </div>\n      </div>\n    </div>\n  )\n}\n\nfunction renderPodcastItems(recommendations, contributors, pagetype){\n  return(\n    <div className=\"PodcastGrid mt-l\">\n      <div className=\"container mt-l\">\n        <BlockTitle title={pagetype==='categories' ? '' : 'Listen'}/>\n        <div className=\"grid\">\n            {Helpers.getBlockCategoryItems(recommendations, catTemplate.podcastcard).map((records) =>\n              <Podcastcard {...records.fields} key={records.id} itemId={records.id} autor={Helpers.getContributor(contributors, records.fields.contribuidor)}/>\n            )}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nfunction renderArticleItems(recommendations, contributors, pagetype){\n  return(\n    <div className=\"ArticlesGrid mt-l\">\n      <BlockTitle title={pagetype==='categories' ? '' : 'More'} />\n      <div className=\"container\">\n        <div className=\"grid\">\n            {Helpers.getBlockCategoryItems(recommendations, catTemplate.articlelist).map((records) =>\n              <Articlelist {...records.fields} key={records.id} itemId={records.id} autor={Helpers.getContributor(contributors, records.fields.contribuidor)}/>\n            )}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nfunction renderVideoItems(recommendations, contributors, pagetype){\n  return(\n    <div className=\"ArticlesGrid mt-l\">\n      <BlockTitle title={pagetype==='categories' ? '' : 'Videos'} />\n      <div className=\"container\">\n        <div className=\"grid\">\n            {Helpers.getBlockCategoryItems(recommendations, catTemplate.videocard).map((records) =>\n              <Videocard {...records.fields} key={records.id} itemId={records.id} autor={Helpers.getContributor(contributors, records.fields.contribuidor)}/>\n            )}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nfunction renderAppItems(recommendations, contributors, pagetype){\n  return(\n    <div className=\"AppGrid-detail mt-l\">\n        <BlockTitle title={pagetype==='categories' ? '' : 'Apps'} />\n        <div className=\"container\">\n              <div className=\"grid\">\n                  {Helpers.getBlockCategoryItems(recommendations, catTemplate.appcard).map((records) =>\n                    <Appcard {...records.fields} key={records.id} itemId={records.id} autor={Helpers.getContributor(contributors, records.fields.contribuidor)}/>\n                  )}\n              </div>\n        </div>\n    </div>\n  )\n}\n\nfunction renderCinemaItems(recommendations, contributors, pagetype) {\n  return (\n    <div className=\"GridCard\">\n        <BlockTitle title={pagetype==='categories' ? '' : 'Movies & Series'} />\n        <div className=\"container container-xl\">\n            <div className=\"grid\">\n              {Helpers.getBlockCategoryItems(recommendations, catTemplate.cinemacard).map((records) =>\n                <Card {...records.fields} key={records.id} itemId={records.id} autor={Helpers.getContributor(contributors, records.fields.contribuidor)}/>\n              )}\n            </div>\n        </div>\n    </div>\n  )\n}\n\nexport {\n   renderCardItems,\n   renderMusicItems,\n   renderPodcastItems,\n   renderArticleItems,\n   renderVideoItems,\n   renderAppItems,\n   renderCinemaItems\n};\n","import React, { Component } from \"react\";\nimport Header from '../components/Header';\nimport Footer from '../components/Footer';\nimport BlockTitle from '../components/BlockTitle';\n\nclass Notfound extends Component {\n  render() {\n\n    return (\n      <div className=\"app_wrapper notfound_view\">\n        <Header />\n        <div className=\"global\">\n          <div className=\"Notfound global\">\n            <BlockTitle title={'This page is lost'} description={'We searched high and low but couldnt find what youre looking for. Lets find a better place for you to go.'}/>\n          </div>\n        </div>\n        <Footer/>\n      </div>\n\n    );\n  }\n}\n\nexport default Notfound;\n","import React, { Component } from 'react';\n\nimport * as Helpers from './Helpers';\nimport * as Templates from './templates/Templates';\n\nimport Header from './components/Header';\nimport Footer from './components/Footer';\nimport BlockTitle from './components/BlockTitle';\nimport LoadingSpinner from './components/LoadingSpinner';\nimport Notfound from './views/Notfound';\n\n\nclass Detail extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading: true,\n      recommendations: [],\n      category: Helpers.getUrlCategory(),\n      topic: Helpers.getUrlTopic()\n    };\n    window.scrollTo(0, 0);\n  }\n\n\n\n  componentDidMount() {\n    fetch(window.$api+'&filterByFormula=Find(%22'+this.state.topic+'%22%2C+'+this.state.category+')')\n    .then((resp) => resp.json())\n    .then(pagedata => {\n\n      //console.log(pagedata);\n      //this.setState({recommendations: pagedata.records});\n      window.$pagedata = pagedata.records;\n      return fetch(window.$api)\n\n    })\n    .then((resp2) => resp2.json())\n    .then(datafull => {\n\n      //console.log(datafull);\n      Helpers.storeUniqueTopics(datafull.records)\n      Helpers.storeUniqueCategories(datafull.records)\n      window.$alldata = datafull.records;\n      return fetch(window.$api_contributors)\n\n    })\n    .then((resp3, data) => resp3.json())\n    .then(contributors => {\n\n      //ONCE WE HAVE ALL DATA FETCHED\n      //THEN WE SETSTATE WHICH CAUSES RERENDER\n      this.setState({\n        isLoading: false,\n        recommendations: window.$pagedata,\n        contributors: contributors.records}\n      );\n      //console.log('allcontributors',contributors.records)\n      //console.log('contributors',this.state.contributors)\n      //console.log('recommendations',this.state.recommendations)\n    })\n    .catch(err => {\n      // Error\n    });\n  }\n\n  componentDidUpdate(prevProps) {\n    //If prev url is not the same render again\n    if ( ( Helpers.getUrlTopic() !== prevProps.match.params.id )  || (  Helpers.getUrlCategory() !== prevProps.match.url.split(\"/\")[1])  ) {\n      // SET CLICKED NEW URL\n      this.setState({\n        isLoading: true,\n        category: Helpers.getUrlCategory(),\n        topic : Helpers.getUrlTopic()\n      }, () => {\n        //Call API && Render again when state (async) is done\n        this.componentDidMount()\n      });\n    }\n  }\n\n\n  //Returns current unique categories filtered per category template block\n  matchCategoriesWithTemplates(catArr){\n    return Helpers.getUniqueCategories(this.state.recommendations).filter(matchBlockCat => catArr.includes(matchBlockCat))\n  }\n\n\n  render() {\n\n    return (\n      <div className=\"app_wrapper detail_view\">\n\n        <Header />\n\n        <div className=\"global\">\n          <main>\n            <div id=\"Detail\" className={`pb-xl is-detail ${\"is-\" + this.state.category} ${\"is-\" + this.state.topic.replace(/ /g, \"_\")}`}>\n\n                    {!this.state.isLoading && window.$pagedata.length && window.$pagedata.length === 0\n                      ? <Notfound/>\n                      : <BlockTitle title={this.state.topic} titleclass=\"big-title mt-s\" descriptionclass=\"big-description mb-m\"/>\n                    }\n\n                    {this.state.isLoading ? <LoadingSpinner /> : this.matchCategoriesWithTemplates(Templates.catTemplate.card) && this.matchCategoriesWithTemplates(Templates.catTemplate.card).length ? (\n                      Templates.renderCardItems(this.state.recommendations, this.state.contributors)\n                    ) : ('')}\n\n                    {this.state.isLoading ? '' : this.matchCategoriesWithTemplates(Templates.catTemplate.cinemacard) && this.matchCategoriesWithTemplates(Templates.catTemplate.cinemacard).length ? (\n                      Templates.renderCinemaItems(this.state.recommendations, this.state.contributors, this.state.category)\n                    ) : ('')}\n\n                    {this.state.isLoading ? '' : this.matchCategoriesWithTemplates(Templates.catTemplate.musiccard) && this.matchCategoriesWithTemplates(Templates.catTemplate.musiccard).length ? (\n                      Templates.renderMusicItems(this.state.recommendations, this.state.contributors, this.state.category)\n                    ) : ('')}\n\n                    {this.state.isLoading ? '' : this.matchCategoriesWithTemplates(Templates.catTemplate.podcastcard) && this.matchCategoriesWithTemplates(Templates.catTemplate.podcastcard).length ? (\n                      Templates.renderPodcastItems(this.state.recommendations, this.state.contributors, this.state.category)\n                    ) : ('')}\n\n                    {this.state.isLoading ? '' : this.matchCategoriesWithTemplates(Templates.catTemplate.videocard) && this.matchCategoriesWithTemplates(Templates.catTemplate.videocard).length ? (\n                      Templates.renderVideoItems(this.state.recommendations, this.state.contributors, this.state.category)\n                    ) : ('')}\n\n                    {this.state.isLoading ? '' : this.matchCategoriesWithTemplates(Templates.catTemplate.appcard) && this.matchCategoriesWithTemplates(Templates.catTemplate.appcard).length ? (\n                      Templates.renderAppItems(this.state.recommendations, this.state.contributors, this.state.category)\n                    ) : ('')}\n\n                    {this.state.isLoading ? '' : this.matchCategoriesWithTemplates(Templates.catTemplate.articlelist) && this.matchCategoriesWithTemplates(Templates.catTemplate.articlelist).length ? (\n                      Templates.renderArticleItems(this.state.recommendations, this.state.contributors, this.state.category)\n                    ) : ('')}\n\n\n              <img className=\"lines\" src={process.env.PUBLIC_URL + '/img/lines.svg'} alt=\"lines\"/>\n\n            </div>\n\n          </main>\n\n          <Footer/>\n\n        </div>\n      </div>\n    );\n  }//Render\n\n\n}\n\nexport default Detail;\n","import React, { Component } from \"react\";\n\nimport Header from '../components/Header';\nimport Footer from '../components/Footer';\nimport BlockTitle from '../components/BlockTitle';\n\nclass About extends Component {\n  render() {\n\n    return (\n    <div className=\"app_wrapper about_view\">\n\n      <Header />\n      <div className=\"global\">\n        <div className=\"container\">\n          <BlockTitle title={'About'}/>\n          <div className=\"AboutContent mt-s\">\n\n            <h5 className=\"mb-s\">Cmo puedo ayudar a mis amigos (y a m mismo) a pasar un tiempo ms entretenido durante la cuarentena?</h5>\n            <p>El proyecto empieza durante la cuarentena de marzo por el COVID-19. </p>\n          </div>\n        </div>\n      </div>\n\n      <Footer/>\n\n    </div>\n    );\n  }\n}\n\nexport default About;\n","import React, { Component } from \"react\";\nimport * as Helpers from '../Helpers';\n\nimport BlockTitle from '../components/BlockTitle';\nimport LoadingSpinner from '../components/LoadingSpinner';\nimport {ReactComponent as SearchIcon} from '../icons/Search.svg';\n\nclass Search extends Component {\n\n  constructor(){\n      super();\n      this.state = {\n          isLoading: false,\n          categorias: window.$categories,\n          temas: window.$topics\n      }\n  }\n\n  componentDidMount(){\n\n    if(!window.$categories){\n      this.setState({ isLoading: true });\n      fetch(window.$api)\n        .then((resp) => resp.json())\n        .then(data => {\n\n          Helpers.storeUniqueTopics(data.records)\n          Helpers.storeUniqueCategories(data.records)\n          window.$alldata = data.records;\n          this.setState({\n            isLoading: false,\n            categorias: window.$categories,\n            temas: window.$topics\n          }, () => {\n            //Call API && Render again when state (async) is done\n            this.componentDidMount()\n          });\n\n\n      })\n      .catch(err => {\n        console.log( Error(err));\n      });\n    }\n  }\n\n\n  render() {\n\n    return (\n      <div className=\"app_wrapper search_view\">\n        {/*Search Input\n        <div className=\"container\">\n          <div className=\"input-search-icon-container\">\n            <SearchIcon className=\"icon-24 icon-grey-soft\" />\n            <input id=\"url\"\n              name=\"url\"\n              component=\"input\"\n              type=\"text\"\n              onChange={this.urlChangeHandler}\n              placeholder='How can we help you?'\n              required\n              autoFocus\n              value={this.state.url}\n              className=\"big-input\"\n            />\n           {this.state.isLoadingUrl ? <div className=\"loader-icon-container\"><i className=\"loader-icon\"></i></div> : ''}\n          </div>\n        </div>\n        */}\n\n        <div className=\"AllTopics\">\n            <div className=\"Categories mt-l\">\n              {this.state.isLoading ? <LoadingSpinner /> : this.state.categories?.map((records, key) =>\n                <BlockTitle title={records} link={`categories/${records}`} key={key}/>\n              )}\n            </div>\n\n            <div className=\"Topics mb-l\">\n              {this.state.isLoading ? '' : this.state.topics?.map((records, key) =>\n                <BlockTitle title={records} link={`topics/${records}`} key={key}/>\n              )}\n            </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Search;\n","import React, { Component } from \"react\";\n\nclass Message extends Component {\n  render() {\n    return (\n\n        <div className={`message ${this.props.type}`}>{this.props.message}</div>\n\n    );\n  }\n}\n\nexport default Message;\n","import React, { Component } from \"react\";\nimport { Link } from 'react-router-dom';\nimport history from '../history';\nimport Message from '../components/Message';\n\nconst userController = require('../controllers/userController');\n\nclass SignUp extends Component {\n\n  constructor() {\n    super();\n    this.state = {\n      isLoading: false\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  nameChangeHandler = (event) => {\n    this.setState({name: event.target.value});\n    this.setState({isLoading: false});\n  }\n\n  emailChangeHandler = (event) => {\n    this.setState({email: event.target.value.toLowerCase()});\n    this.setState({isLoading: false});\n  }\n\n  passwordChangeHandler = (event) => {\n    this.setState({password: event.target.value});\n    this.setState({isLoading: false});\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    //ADD USER WITH FORM DATA THEN STORE PASSWORD\n    userController.addUser(this.state, userController.storePassword)\n    this.setState({isLoading: true});\n  }\n  componentDidMount(){\n    //Clear history state messages\n    if (history.location.state && history.location.state.message) {\n        let state = { ...history.location.state };\n        delete state.message\n        delete state.type\n        history.replace({ ...history.location, state });\n    }\n    this.setState({isLoading: false});\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.setState({isLoading: false});\n  }\n\n  render() {\n\n    return (\n\n      <div className=\"app_wrapper signup_view\">\n        <header className=\"header no@m\">\n          <div className=\"container text-center\">\n            <Link to=\"/\"><img className=\"logo\" src={process.env.PUBLIC_URL + '/logo.svg'} alt=\"logo\"/></Link>\n          </div>\n        </header>\n        <div className=\"global\">\n          <div className=\"container container-s\">\n\n            <div className=\"form-container\">\n              <div className=\"mb-s text-center\">\n                <Link to=\"/\"><img className=\"logo mb-m no@dkt\" src={process.env.PUBLIC_URL + '/logo.svg'} alt=\"logo\"/></Link>\n                <h3 className=\"centered\">Get started</h3>\n                <p>Absolutely free.</p>\n              </div>\n\n              {history.location.state && this.props.location.state?.message ?\n                <Message type={this.props.location.state.type} message={this.props.location.state.message}/>\n                : ''}\n\n              <form onSubmit={this.handleSubmit} className=\"signup-form\">\n                <div>\n                  <label>Name</label>\n                  <input\n                    name=\"name\"\n                    component=\"input\"\n                    type=\"text\"\n                    autoComplete=\"name\"\n                    onChange={this.nameChangeHandler}\n                    placeholder=\"Dieter Rams\"\n                    required\n                  />\n                </div>\n                <div>\n                  <label>Email</label>\n                  {history.location.state && this.props.location.state?.email ?\n                    <input\n                    name=\"email\"\n                    component=\"input\"\n                    type=\"email\"\n                    autoComplete=\"email\"\n                    onChange={this.emailChangeHandler}\n                    placeholder=\"dieter@rams.com\"\n                    required\n                    value={this.props.location.state.email} />\n                  :\n                    <input\n                    name=\"email\"\n                    component=\"input\"\n                    type=\"email\"\n                    autoComplete=\"email\"\n                    onChange={this.emailChangeHandler}\n                    placeholder=\"dieter@rams.com\"\n                    required />\n                  }\n                </div>\n                <div>\n                  <label>Password</label>\n                  <input\n                    name=\"password\"\n                    component=\"input\"\n                    type=\"password\"\n                    autoComplete=\"current-password\"\n                    pattern=\".{8,}\"\n                    onChange={this.passwordChangeHandler}\n                    placeholder=\"At least 8 characters\"\n                    required\n                  />\n                </div>\n\n                <button className=\"button submitbtn inline\" type=\"submit\">{this.state.isLoading ? 'loading' : 'SignUp'}</button>\n              </form>\n              <span className=\"centered\">Already have an account? <Link to=\"/login\" className=\"link\">Login</Link></span>\n            </div>\n\n          </div>\n        </div>\n\n      </div>\n    );\n  }\n}\n\nexport default SignUp;\n","import React, { Component } from \"react\";\nimport { Link } from 'react-router-dom';\nimport history from '../history';\nimport Message from '../components/Message';\n\nconst userController = require('../controllers/userController');\n\nclass Login extends Component {\n\n\n  constructor() {\n    super();\n    this.state = {\n      isLoading: false\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n  emailChangeHandler = (event) => {\n    this.setState({email: event.target.value});\n    this.setState({isLoading: false});\n  }\n  passwordChangeHandler = (event) => {\n    this.setState({password: event.target.value});\n    this.setState({isLoading: false});\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    //AUTH\n    userController.authenticate(this.state)\n    this.setState({isLoading: true});\n  }\n\n  componentDidMount(){\n    //Clear history state messages\n    if (history.location.state && history.location.state.message) {\n        let state = { ...history.location.state };\n        delete state.message\n        delete state.type\n        history.replace({ ...history.location, state });\n    }\n    this.setState({isLoading: false});\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.setState({isLoading: false});\n  }\n\n  render() {\n    return (\n      <div className=\"app_wrapper login_view\">\n          <div className=\"grid\">\n\n                  <div className=\"grid__item width-3/12 width-12/12@m left-pane no@m\">\n                    <div className=\"left-pane-quote\">\n                      <div className=\"left-pane-quote-text\">\n                        I can get inspiration & cultural references from people around the world.\n                      </div>\n                    </div>\n                  </div>\n                  <div className=\"grid__item width-9/12 width-12/12@m right-pane\">\n                    <div className=\"right-pane-content\">\n                      <div className=\"container\">\n                              <div className=\"form-container\">\n                                <div className=\"right-pane-text mb-s\">\n                                  <Link to=\"/\"><img className=\"logo mb-m\" src={process.env.PUBLIC_URL + '/logo.svg'} alt=\"logo\"/></Link>\n                                  <h5 className=\"big-title\">Welcome back.</h5>\n                                  <p>Enter your details below.</p>\n                                </div>\n\n                                {this.props.location.state?.message ?\n                                  <Message type={this.props.location.state.type} message={this.props.location.state.message}/>\n                                  : ''}\n\n                                <form onSubmit={this.handleSubmit} className=\"login-form\">\n                                  <div>\n                                    <label>Email</label>\n                                    <input\n                                      name=\"email\"\n                                      component=\"input\"\n                                      type=\"email\"\n                                      autoComplete=\"email\"\n                                      onChange={this.emailChangeHandler}\n                                      placeholder=\"dieter@rams.com\"\n                                      required\n                                    />\n                                  </div>\n                                  <div>\n                                    <label>Password</label>\n                                    <input\n                                      name=\"password\"\n                                      component=\"input\"\n                                      type=\"password\"\n                                      autoComplete=\"current-password\"\n                                      onChange={this.passwordChangeHandler}\n                                      placeholder=\"Introduce your password\"\n                                      pattern=\".{8,}\"\n                                      required\n                                    />\n                                  </div>\n\n                                  <button className=\"button submitbtn inline\" type=\"submit\">{this.state.isLoading ? 'loading' : 'Login'}</button>\n                                </form>\n                                <span>Dont have an account? <Link to=\"/signup\" className=\"link\">Get started!</Link></span>\n                              </div>\n                      </div>\n                    </div>\n                  </div>\n\n          </div>\n      </div>\n    );\n  }\n}\n\nexport default Login;\n","import React, { Component } from \"react\";\nimport history from '../history';\nimport { Link } from 'react-router-dom';\n\nimport {ReactComponent as UserIcon} from '../icons/User.svg';\nimport {ReactComponent as LikeIcon} from '../icons/Heart.svg';\nimport {ReactComponent as AddIcon} from '../icons/Plus.svg';\n\nconst userController = require('../controllers/userController.js');\n\nclass HeaderMkt extends Component {\n\n  constructor(){\n      super();\n      this.state = {\n          email:''\n      };\n  }\n\n  emailChangeHandler = (event) => {\n    this.setState({email: event.target.value});\n  }\n  handleSubmit = (event) => {\n    event.preventDefault();\n    history.push({\n      pathname: '/signup',\n      state: {\n        email: this.state.email\n      }\n    })\n  }\n\n\n  render() {\n\n    return (\n      <header className=\"header no@m\">\n        <div className=\"container flex-justify\">\n\n          <ul id=\"primarymenu\" className=\"nav menu\">\n            <li><Link to=\"/\"><img className=\"logo\" src={process.env.PUBLIC_URL + '/logo.svg'} alt=\"logo\"/></Link></li>\n            <li><Link to=\"/feed\">Discover</Link></li>\n          </ul>\n          { userController.isAuthenticated() ? (\n            <ul id=\"usermenu\" className=\"nav menu\">\n              <li>\n                <Link to=\"/create\" className=\"link\"><AddIcon /> Create</Link>\n              </li>\n              <li>\n                <Link to=\"/likes\"><LikeIcon /> Likes</Link>\n              </li>\n              <li>\n                <Link to=\"/profile\"><UserIcon /> Profile</Link>\n              </li>\n            </ul>\n          ) : (\n            <div className=\"form form-wrap\">\n              <form className=\"email-form no@m\" onSubmit={this.handleSubmit}>\n                <div className=\"email-form__input-wrapper\">\n                  <input\n                    type=\"email\"\n                    id=\"email\"\n                    className=\"email-form__input\"\n                    aria-required=\"true\"\n                    aria-invalid=\"false\"\n                    aria-describedby=\"signup-cta-error\"\n                    placeholder=\"Email\"\n                    autoComplete=\"email\"\n                    onChange={this.emailChangeHandler}\n                    />\n                </div>\n                <button type=\"submit\" className=\"email-form__submit\" mailto=\"\">\n                  <span className=\"email-form__submit__label\">Get started!</span>\n                </button>\n              </form>\n              <Link to=\"/login\" className=\"button button-outline button-header-login\">Sign in</Link>\n            </div>\n          )}\n        </div>\n      </header>\n    );\n  }\n}\n\nexport default HeaderMkt;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12 1C5.9 1 1 5.9 1 12C1 18.1 5.9 23 12 23C18.1 23 23 18.1 23 12C23 5.9 18.1 1 12 1ZM20 12C20 12.7 19.9 13.4 19.7 14C19.1 12.5 18.1 10.9 16.7 9.3L18.5 7.5C19.5 8.8 20 10.3 20 12ZM6.5 6.5C7.8 6.5 10.1 7.3 12.5 9.4L9.3 12.6C7.1 9.8 6.5 7.5 6.5 6.5ZM14.6 11.5C16.9 14.2 17.5 16.5 17.5 17.5C16.2 17.5 13.9 16.7 11.5 14.6L14.6 11.5ZM16.5 5.4L14.6 7.3C13 5.9 11.4 4.9 9.9 4.3C10.6 4.1 11.2 4 11.9 4C13.7 4 15.2 4.5 16.5 5.4ZM4 12C4 11.3 4.1 10.6 4.3 10C4.9 11.5 5.9 13.1 7.3 14.7L5.5 16.5C4.5 15.2 4 13.7 4 12ZM7.5 18.6L9.4 16.7C11 18.1 12.6 19.1 14.1 19.7C13.4 19.9 12.8 20 12.1 20C10.3 20 8.8 19.5 7.5 18.6Z\",\n  fill: \"#02272C\"\n});\n\nvar SvgGlobe = function SvgGlobe(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgGlobe, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/Globe.36fa3a20.svg\";\nexport { ForwardRef as ReactComponent };","import React, { Component } from \"react\";\nimport { Link } from 'react-router-dom';\n\nimport HeaderMkt from '../components/HeaderMkt';\nimport Footer from '../components/Footer';\nimport {ReactComponent as DiscoverIcon} from '../icons/Discover.svg';\nimport {ReactComponent as LikeIcon} from '../icons/Heart.svg';\nimport {ReactComponent as GlobeIcon} from '../icons/Globe.svg';\nimport Promocard from '../components/Promocard';\n\nconst userController = require('../controllers/userController.js');\n\nclass Home extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isAuthenticated: userController.isAuthenticated()\n    };\n  }\n\n\n  render() {\n\n    return (\n      <div className=\"app_wrapper home_view home-gold\">\n\n        <HeaderMkt />\n\n        <div className=\"global\">\n\n\n          <section className=\"home-hero\">\n            <div className=\"container\">\n\n              <div className=\"grid\">\n                    <div className=\"grid__item width-6/12 width-12/12@m\">\n                      <Link to=\"/\"><img className=\"logo mb-m no@dkt\" src={process.env.PUBLIC_URL + '/logo.svg'} alt=\"logo\"/></Link>\n                      <h1 className=\"main-title\">The sharing platform for the <span className=\"scratch\">quarantine</span> people.</h1>\n                      <p className=\"hero-text\">We make it easy to find inspiration, references, and grow informed online communities that are built to last.</p>\n\n                      { this.state.isAuthenticated\n                        ? <Link to=\"/create\" className=\"button\">Publish now!</Link>\n                        : <Link to=\"/signup\" className=\"button\">Get Started!</Link>\n                      }\n\n                    </div>\n                    <div className=\"grid__item width-6/12 no@m\">\n                      <picture className=\"picture-main-image reveal\">\n                        <img className=\"main-image scale\" src=\"https://images.unsplash.com/photo-1446511437394-36cdff3ae1b3?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1050&q=80\" alt=\"cover\"></img>\n                      </picture>\n                    </div>\n              </div>\n\n            </div>\n          </section>\n\n          <section className=\"block bg-soft-grey\">\n            <div className=\"container\">\n                <div className=\"grid\">\n                    <div className=\"grid__item width-7/12 width-12/12@m\">\n                      <picture className=\"\">\n                        <img className=\"img-fit\" src={process.env.PUBLIC_URL + '/img/hero-img.png'} alt=\"international person\"/>\n                      </picture>\n                    </div>\n                    <div className=\"grid__item width-5/12 width-12/12@m v-center\">\n                      <h2 className=\"alt-font\">Let people know what inspires you.</h2>\n                      <p className=\"hero-text\">Share your collection of favourite resources to inspire. Dont know what to read or watch? Find and save your next book or movie.</p>\n                    </div>\n                </div>\n            </div>\n          </section>\n\n          <section className=\"bg-soft-grey\">\n            <div className=\"container\">\n                <div className=\"grid\">\n                    <div className=\"grid__item width-4/12 width-12/12@m\">\n                      <h5 className=\"mb-xs alt-font\"><LikeIcon className=\"icon-primary icon-20\"/> Curate</h5>\n                      <p className=\"hero-text\">Save & share your collection of favourite resources to inspire.</p>\n                    </div>\n                    <div className=\"grid__item width-4/12 width-12/12@m\">\n                      <h5 className=\"mb-xs alt-font\"><DiscoverIcon className=\"icon-primary icon-20\"/> Discover</h5>\n                      <p className=\"hero-text\">A place to discover new perspectives and share your own.</p>\n                    </div>\n                    <div className=\"grid__item width-4/12 width-12/12@m\">\n                      <h5 className=\"mb-xs alt-font\"><GlobeIcon className=\"icon-primary icon-20\"/> Connect</h5>\n                      <p className=\"hero-text\">Freedom from follower counts, communities, and ads.</p>\n                    </div>\n                </div>\n            </div>\n          </section>\n\n\n          <section className=\"block bg-soft-grey\">\n            <div className=\"container\">\n                <div className=\"grid\">\n                    <div className=\"grid__item width-5/12 width-12/12@m v-center\">\n                      <h2 className=\"alt-font\">Let people inspire you.</h2>\n                      <p className=\"hero-text\">Imagine to know what your industry leaders are reading or watching? Now it's possible.</p>\n                    </div>\n                    <div className=\"grid__item width-6/12 width-12/12@m\">\n                      <picture className=\"\">\n                        <img className=\"img-fit\" src={process.env.PUBLIC_URL + '/img/hero-img-girl.png'} alt=\"international person\"/>\n                      </picture>\n                    </div>\n                </div>\n            </div>\n          </section>\n\n\n          <section className=\"block bg-soft-grey no@m\">\n            <Promocard />\n          </section>\n\n\n        </div>\n\n        <Footer/>\n\n      </div>\n    );\n  }\n}\n\nexport default Home;\n","import React, { Component } from \"react\";\nimport { Link } from 'react-router-dom';\nimport Like from './Like';\n\n//@TODO ITEM ID\n\nclass FavItem extends Component {\n\n  render() {\n      return (\n        <Link to={`/item/${this.props.itemId}`} data-id={this.props.itemId} className=\"favitem\">\n          <div className=\"favitem-image-holder\">\n            <img className=\"favitem-image-holder-img\" src={this.props.imageUrl} alt=\"cover\"/>\n          </div>\n          <div className=\"favitem-description\">\n            <div className=\"favitem-category badge inline\">{this.props.categories}</div>\n            <h6>{this.props.title}</h6>\n            <p className=\"description\">{this.props.description}</p>\n          </div>\n          <Like itemId={this.props.itemId}/>\n        </Link>\n      );\n  }\n}\n\nexport default FavItem;\n","import React, { Component } from 'react';\nimport { findDOMNode } from 'react-dom';\nimport $ from 'jquery';\n\nclass Confetti extends Component {\n\n\n  componentDidMount(){\n\n    const create = (i) => {\n      var width = Math.random() * 8;\n      var height = width * 0.4;\n      var colourIdx = Math.ceil(Math.random() * 3);\n      var colour = \"confetti-red\";\n      switch(colourIdx) {\n        case 1:\n          colour = \"confetti-yellow\";\n          break;\n        case 2:\n          colour = \"confetti-blue\";\n          break;\n        default:\n          colour = \"confetti-red\";\n      }\n      $('<div class=\"confetti-'+i+' '+colour+'\"></div>').css({\n        \"width\" : width+\"px\",\n        \"height\" : height+\"px\",\n        \"top\" : -Math.random()*20+\"%\",\n        \"left\" : Math.random()*100+\"%\",\n        \"opacity\" : Math.random()+0.5,\n        \"transform\" : \"rotate(\"+Math.random()*360+\"deg)\"\n      }).appendTo('.wrapper-confetti');\n\n      drop(i);\n    }\n\n    const drop = (x) => {\n      $('.confetti-'+x).animate({\n        top: \"100%\",\n        left: \"+=\"+Math.random()*15+\"%\"\n      }, Math.random()*3000 + 3000, function() {\n        reset(x);\n      });\n    }\n\n    const reset = (x) => {\n      $('.confetti-'+x).animate({\n        \"top\" : -Math.random()*20+\"%\",\n        \"left\" : \"-=\"+Math.random()*15+\"%\"\n      }, 0, function() {\n        drop(x);\n      });\n    }\n\n    for (var i = 0; i < 200; i++) {\n       create(i);\n    }\n\n  }\n\n\n  render() {\n     return (\n       <div className=\"wrapper-confetti\"></div>\n     );\n  }\n}\nexport default Confetti;\n","import React, { Component } from \"react\";\nimport { Link } from 'react-router-dom';\nimport history from '../history';\nimport * as Helpers from '../Helpers';\n\nimport Header from '../components/Header';\nimport Footer from '../components/Footer';\nimport FavItem from '../components/FavItem';\nimport LoadingSpinner from '../components/LoadingSpinner';\nimport {ReactComponent as UserIcon} from '../icons/User.svg';\nimport {ReactComponent as AddIcon} from '../icons/Plus.svg';\nimport Confetti from '../components/Confetti';\n\nconst recommendationController = require('../controllers/recommendationController.js');\nconst userController = require('../controllers/userController.js');\n\n//AIRTABLE HELPERS\nconst Airtable = require('airtable');\nconst base = new Airtable({\n  apiKey: process.env.REACT_APP_AIRTABLE_API_KEY,\n}).base(process.env.REACT_APP_AIRTABLE_BASE_ID);\nconst table = base('contributors');\n\nclass Profile extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading : true,\n      renderItems : [],\n      pubItems  : 0,\n      likeItems : Helpers.getStorageFavs() ? Helpers.getStorageFavs()?.length : '0',\n      makeConfetti : this.checkConfetti()\n    };\n    window.scrollTo(0, 0);\n  }\n\n  checkConfetti(){\n    if (this.props.location.state?.type === 'success' ){\n      return true\n    }else{\n      return false\n    }\n  }\n\n  componentDidMount() {\n    //Clear history state messages\n    if (history.location.state && history.location.state.message) {\n        let state = { ...history.location.state };\n        delete state.message\n        delete state.type\n        history.replace({ ...history.location, state });\n    }\n\n    const userId = userController.getSession()?.id;\n    if (!userId) {\n      this.setState({ isLoading: false, renderItems: [] });//WHEN NO SESSION && NO EMAIL\n     return\n    }\n\n    table.find(userId, async (err, user) => {\n      if (err) {\n        userController.signOut()\n        return\n      }\n\n      const userData = user.fields;\n      if (!userData?.items) {\n        this.setState({ isLoading: false, renderItems: [] });//WHEN SESSION && NO ITEMS\n      }\n      if (!userData?.likes) userData.likes = []\n\n      await recommendationController.hydrateUserPubItems(userData)\n\n      userController.setLocalStorageFavs(userData.likes)\n\n      this.setState({\n        isLoading   : false,\n        renderItems : userData?.items,\n        pubItems    : userData?.items?.length ? userData?.items?.length : '0',\n        likeItems   : userData?.likes?.length ? userData?.likes?.length : '0'\n      });\n\n    });\n\n  }\n\n\n  render() {\n\n    return (\n    <div className=\"app_wrapper profile_view\">\n\n      { this.state.makeConfetti ? <Confetti /> : ''}\n\n      <Header />\n      <div className=\"global\">\n          <div className=\"ArticlesGrid mt-l\">\n            <div className=\"container container-s\">\n\n              <div className=\"profile-user mt-xl\">\n                <div className=\"profile-user-image-holder\">\n                  <UserIcon />\n                </div>\n                <div className=\"profile-user-info\">\n                  <div className=\"profile-user-name\"><h3 className=\"alt-font\">{userController.getSession()?.name}</h3></div>\n                  <div className=\"profile-user-description\"><p>{userController.getSession()?.description}</p></div>\n                  <div className=\"profile-user-data\">\n                    <span>{ this.state.likeItems } Likes</span>\n                    <span>{ this.state.pubItems } Published</span>\n                    <span>0 Following</span>\n                    <span>0 Followers</span>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"mt-m\">\n              { this.state.isLoading\n                  ? <LoadingSpinner />\n                  : this.state.renderItems && this.state.renderItems.length > 0\n                      ? this.state.renderItems.map( (records, key) => <FavItem {...records} key={key} itemId={records.id} /> )\n                      : <div className=\"empty-pubrecords\">\n                          <Link to=\"/create\" className=\"link inline-block mb-s\"><AddIcon /> Create</Link>\n                          <div>\n                            Welcome <span role=\"img\" aria-label=\"welcome\"></span>! Now you can share your referents and they will appear here.\n                            <br></br>\n                            Or start browsing favs in <Link to=\"/feed\" className=\"underline\">Discover</Link>\n                          </div>\n                        </div>\n              }\n              </div>\n              <div className=\"mt-l mb-xl\">\n                <button className=\"underline grey auto block\" onClick={userController.signOut}>Sign Out</button>\n              </div>\n            </div>\n        </div>\n      </div>\n\n      <Footer/>\n\n    </div>\n    );\n  }\n}\n\nexport default Profile;\n","import React, { Component } from \"react\";\nimport { Link } from 'react-router-dom';\n\nimport Header from '../components/Header';\nimport Footer from '../components/Footer';\nimport FavItem from '../components/FavItem';\nimport LoadingSpinner from '../components/LoadingSpinner';\nimport {ReactComponent as UserIcon} from '../icons/User.svg';\nimport {ReactComponent as AddIcon} from '../icons/Plus.svg';\n\nconst dataController = require('../controllers/dataController.js');\nconst recommendationController = require('../controllers/recommendationController.js');\n\n//AIRTABLE HELPERS\nconst Airtable = require('airtable');\nconst base = new Airtable({\n  apiKey: process.env.REACT_APP_AIRTABLE_API_KEY,\n}).base(process.env.REACT_APP_AIRTABLE_BASE_ID);\n\n\n\nclass ExternalProfile extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading   : true,\n      renderItems : [],\n      pubItems    : 0,\n      likeItems   : 0,\n      urlName     : decodeURIComponent(window.location.pathname.split(\"/\").pop()),\n      userData    : [],\n    };\n\n  }\n\n  getUserPubItems(){\n    const table = base('contributors');\n    const options = { filterByFormula: `{name} = '${this.state.urlName}'` }\n\n    dataController.getAirtableRecords(table, options)\n      .then( async (users) => {\n        //USERS SHOULD BE ONLY ONE THAT MATCH WITH EMAIL\n        const userData = users[0]?.fields;\n        if (!userData?.items) {\n          this.setState({ isLoading: false, renderItems: [] });//WHEN SESSION && NO ITEMS\n        }\n        if (!userData?.likes) userData.likes = []\n        await recommendationController.hydrateUserPubItems(userData)\n\n        this.setState({\n          isLoading   : false,\n          renderItems : userData?.items,\n          pubItems    : userData?.items?.length ? userData?.items?.length : '0',\n          likeItems   : userData?.likes?.length ? userData?.likes?.length : '0',\n          userData    : userData\n        });\n      })\n      .catch(err => {\n        console.log( Error(err));\n      });\n  }\n\n\n\n  componentDidMount() {\n    this.getUserPubItems()\n  }\n\n\n  render() {\n\n    return (\n    <div className=\"app_wrapper profile_view\">\n\n      <Header />\n      <div className=\"global\">\n          <div className=\"ArticlesGrid mt-l\">\n            <div className=\"container container-s\">\n\n              <div className=\"profile-user mt-xl\">\n                <div className=\"profile-user-image-holder\">\n                  <UserIcon />\n                </div>\n                <div className=\"profile-user-info\">\n                  <div className=\"profile-user-name\"><h3 className=\"alt-font\">{this.state.urlName}</h3></div>\n                  <div className=\"profile-user-description\"><p>{this.state?.userData?.description}</p></div>\n                  <div className=\"profile-user-data\">\n                    <span>{ this.state.likeItems } Likes</span>\n                    <span>{ this.state.pubItems } Published</span>\n                    <span>0 Following</span>\n                    <span>0 Followers</span>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"mt-m\">\n              { this.state.isLoading\n                  ? <LoadingSpinner />\n                  : this.state.renderItems && this.state.renderItems.length > 0\n                      ? this.state.renderItems.map( (records, key) => <FavItem {...records} key={key} itemId={records.id} /> )\n                      : <div className=\"empty-pubrecords\">\n                          <h6 className=\"grey mb-xxs\">Nothing here...</h6>\n                          <div>{this.state.urlName} has his profile still empty. Tell him to upload his favs!</div>\n                        </div>\n              }\n              </div>\n\n            </div>\n        </div>\n      </div>\n\n      <Footer/>\n\n    </div>\n    );\n  }\n}\n\nexport default ExternalProfile;\n","import React, { Component } from \"react\";\n\nimport Header from '../components/Header';\nimport Footer from '../components/Footer';\nimport BlockTitle from '../components/BlockTitle';\nimport FavItem from '../components/FavItem';\nimport LoadingSpinner from '../components/LoadingSpinner';\nimport {ReactComponent as LikeIcon} from '../icons/Heart.svg';\n\nconst recommendationController = require('../controllers/recommendationController.js');\nconst userController = require('../controllers/userController.js');\n\n//AIRTABLE HELPERS\nconst Airtable = require('airtable');\nconst base = new Airtable({\n  apiKey: process.env.REACT_APP_AIRTABLE_API_KEY,\n}).base(process.env.REACT_APP_AIRTABLE_BASE_ID);\nconst table = base('contributors');\n\nclass Likes extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading : true,\n      renderItems : [],\n    };\n    window.scrollTo(0, 0);\n  }\n\n  componentDidMount() {\n    const userId = userController.getSession()?.id;\n    if (!userId) {\n      //WHEN NO SESSION && NO EMAIL\n      this.setState({ isLoading: false, renderItems: [] });\n     return\n    }\n\n    table.find(userId, async (err, user) => {\n      if (err) {\n        console.error(err)\n        userController.signOut()\n        return\n      }\n\n      const userData = user?.fields;\n      if (!userData?.likes) userData.likes = []\n      userController.setLocalStorageFavs(userData.likes)\n      let userLikes = await recommendationController.getHydratedFavItems(userData.likes)\n\n      this.setState({\n        isLoading: false,\n        renderItems: userLikes\n      });\n      //console.log('hydratedFavItems',  user.likes, hydratedFavItems)\n      return;\n    })\n\n  }\n\n\n  render() {\n\n    return (\n    <div className=\"app_wrapper profile_view\">\n\n      <Header />\n      <div className=\"global\">\n        <div className=\"container container-m\">\n          <div className=\"ArticlesGrid mt-l\">\n            <BlockTitle title={'Likes'}/>\n\n            <div className=\"container\">\n              <div className=\"mt-s\">\n                { this.state.isLoading\n                    ? <LoadingSpinner />\n                    : this.state.renderItems && this.state.renderItems.length > 0\n                        ? this.state.renderItems.map( (records, key) => <FavItem {...records} key={key} itemId={records.id} /> )\n                        : <div className=\"empty-pubrecords\">\n                            <LikeIcon className=\"icon-40 icon-grey mb-s\"/>\n                            <div>Hey! Your favourite items will appear here. You can start by clicking the heart icon on any item.</div>\n                          </div>\n                }\n              </div>\n            </div>\n          </div>\n\n        </div>\n      </div>\n\n      <Footer/>\n\n    </div>\n    );\n  }\n}\n\nexport default Likes;\n","import React, { Component } from \"react\";\nimport history from '../history';\nimport $ from 'jquery';\n\nimport * as Helpers from '../Helpers';\nimport Header from '../components/Header';\nimport Message from '../components/Message';\n\nconst recommendationController = require('../controllers/recommendationController.js');\n\n\nclass CreateUrl extends Component {\n\n  constructor() {\n    super();\n    this.state = {\n      isLoading   : true,//until getting dropdown categories\n      isLoadingUrl: false,\n      showForm:false,\n      contribuidor: [JSON.parse(localStorage.getItem('userSession'))?.id]\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  urlChangeHandler = (event) => {\n    this.setState({url: event.target.value});\n    //this.getMeta(event.target.value)\n    this.linkPreview(event.target.value)\n    this.setState({isLoadingUrl: true});\n  }\n\n  titleChangeHandler = (event) => {\n    this.setState({title: event.target.value});\n  }\n  descriptionChangeHandler = (event) => {\n    this.setState({description: event.target.value});\n  }\n  imageUrlChangeHandler = (event) => {\n    this.setState({imageUrl: event.target.value});\n  }\n  passwordChangeHandler = (event) => {\n    this.setState({password: event.target.value});\n  }\n  categoriasChangeHandler = (event) => {\n    this.setState({categorias: event.target.value});\n  }\n  temasChangeHandler = (event) => {\n    this.setState({temas: [event.target.value]});\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    this.setState({isLoading: true});\n    recommendationController.uploadToCloudinary(this.state, recommendationController.addItem) //Upload to cloudinary, then to airtable\n  }\n\n\n  getUniqueCategories(){\n    fetch(window.$api)\n    .then((resp) => resp.json())\n    .then(data => {\n      Helpers.storeUniqueTopics(data.records)\n      Helpers.storeUniqueCategories(data.records)\n      window.$alldata = data.records;\n      this.setState({\n        isLoading: false,\n        uniqueCategories: window.$categories,\n        uniqueTopics: window.$topics\n      });\n\n    })\n  }\n\n\n\n\n  componentDidMount() {\n    if ( !window.$categories || !window.$topics) {\n      this.getUniqueCategories()\n    }else{\n      this.setState({\n        isLoading: false,\n        uniqueCategories: window.$categories,\n        uniqueTopics : window.$topics\n      });\n    }\n\n    //Clear history state messages\n    if (history.location.state && history.location.state.message) {\n        let state = { ...history.location.state };\n        delete state.message\n        delete state.type\n        history.replace({ ...history.location, state });\n    }\n\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.setState({isLoading: false});\n  }\n\n   linkPreview(itemUrl){\n      $.ajax({\n          url: \"https://api.linkpreview.net\",\n          dataType: 'jsonp',\n          data: {q: itemUrl, key: process.env.REACT_APP_LINKPREVIEW_KEY },\n          success: function (data) {\n              handleData(data)\n          }\n      });\n\n      const handleData = (data) => {\n        this.setState({\n          isLoadingUrl: false,\n          showForm: true\n        });\n        if(data){\n          if(data?.title){\n            this.setState({title: data.title});\n          }\n          if(data?.description){\n            this.setState({description: data.description});\n          }\n          if(data?.image){\n            this.setState({imageUrl: data.image});\n          }\n        }else{\n          //No data\n          history.push({\n            state: {\n              type: 'info',\n              message: 'That link has not provided info'\n            }\n          })\n          return\n        }\n      }\n\n   }\n\n   itemPreview(props){\n     return (\n       <div className=\"favitem no-b\">\n         <div className=\"favitem-image-holder\">\n         {props?.imageUrl ? <img className=\"favitem-image-holder-img\" src={props?.imageUrl} alt=\"cover\"/> : ''}\n         </div>\n         <div className=\"favitem-description\">\n           <div className=\"favitem-category badge inline mt-s\">{props?.categories ? props?.categories : 'category' }</div>\n           <h6>{props?.title ? props?.title : 'title'}</h6>\n           <p className=\"description-small\">{props?.description ? props?.description : 'description'}</p>\n         </div>\n       </div>\n     );\n   }\n\n  render() {\n\n    return (\n      <div className=\"app_wrapper create_view\">\n        <Header />\n        <div className=\"global\">\n          <div className=\"container container-s\">\n\n            <div className=\"form-container\">\n              <div className=\"mb-m text-center\">\n                <h3 className=\"centered\">Add an item</h3>\n                <p>Tell everyone why its awesome.</p>\n              </div>\n\n              <form onSubmit={this.handleSubmit} className=\"signup-form\">\n                <div className=\"grid\">\n                        <div className=\"grid__item width-2/12 width-12/12@m\">\n                       </div>\n                       <div className=\"grid__item width-8/12 width-12/12@m\">\n\n                         {history.location.state && this.props.location.state?.message ?\n                           <Message type={this.props.location.state.type} message={this.props.location.state.message}/>\n                           : ''}\n\n                         <div className=\"input-icon-container\">\n                           <label>Item Link</label>\n                           <input id=\"url\"\n                             name=\"url\"\n                             component=\"input\"\n                             type=\"text\"\n                             onChange={this.urlChangeHandler}\n                             placeholder=\"External url for the item\"\n                             required\n                             autoFocus\n                             value={this.state.url}\n                             className=\"big-input\"\n                           />\n                          {this.state.isLoadingUrl ? <div className=\"loader-icon-container\"><i className=\"loader-icon\"></i></div> : ''}\n                         </div>\n\n                         <div className={`create-item-step-2 ${this.state.showForm ? 'show-form' : ''} `}>\n\n                           <div className=\"itemPreview mb-m\">\n                              <h6>Preview</h6>\n                              {this.itemPreview(this.state)}\n                           </div>\n\n                           <div>\n                             <label>Title</label>\n                             <input id=\"title\"\n                               name=\"title\"\n                               component=\"input\"\n                               type=\"text\"\n                               onChange={this.titleChangeHandler}\n                               placeholder=\"Awesome title\"\n                               required\n                               value={this.state.title}\n                             />\n                           </div>\n                           <div>\n                             <label>Description</label>\n                             <textarea id=\"description\"\n                               name=\"description\"\n                               component=\"input\"\n                               type=\"text\"\n                               onChange={this.descriptionChangeHandler}\n                               placeholder=\"Short description for the item\"\n                               required\n                               value={this.state.description}\n                             />\n                           </div>\n                           <div>\n                             <label>Featured Image</label>\n                             <input id=\"imageUrl\"\n                               name=\"imageUrl\"\n                               component=\"input\"\n                               type=\"text\"\n                               onChange={this.imageUrlChangeHandler}\n                               placeholder=\"Featured image for the item\"\n                               required\n                               value={this.state.imageUrl}\n                             />\n                           </div>\n                           <div>\n                             <label>Category</label>\n                             <select id=\"categorias\"\n                               name=\"categorias\"\n                               onChange={this.categoriasChangeHandler}\n                               required\n                             >\n                                <option hidden defaultValue value=\"\">Select a category</option>\n                                {this.state.isLoading ? '' : this.state?.uniqueCategories.map((category, i) => <option key={i} value={category}>{category}</option>)}\n                             </select>\n                           </div>\n                           <div>\n                             <label>Topic</label>\n                             <select id=\"topics\"\n                               name=\"temas\"\n                               onChange={this.temasChangeHandler}\n                             >\n                                <option hidden defaultValue value=\"\">Select a topic</option>\n                                {this.state.isLoading ? '' :this.state?.uniqueTopics.map((topic, i) => <option key={i} value={topic}>{topic}</option>)}\n                             </select>\n                           </div>\n\n                           <button className=\"button submitbtn inline mt-s\" type=\"submit\">{this.state.isLoading ? 'loading' : 'Create Item'}</button>\n\n                         </div>\n                  </div>\n              </div>\n            </form>\n\n            </div>\n\n          </div>\n        </div>\n\n      </div>\n    );\n  }\n\n}\n\nexport default CreateUrl;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M11.636 18.5858L10.2218 20L2.4436 12.2218L3.85781 10.8076L3.85785 10.8076L10.2219 4.44363L11.6361 5.85784L6.49396 11L22 11L22 13L6.05017 13L11.636 18.5858Z\",\n  fill: \"#02272C\"\n});\n\nvar SvgBack = function SvgBack(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgBack, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/Back.08bb6d13.svg\";\nexport { ForwardRef as ReactComponent };","import React, { Component } from \"react\";\nimport { Link } from 'react-router-dom';\nimport history from '../history';\n\nimport * as Helpers from '../Helpers';\n\nimport Header from '../components/Header';\nimport Footer from '../components/Footer';\nimport LoadingSpinner from '../components/LoadingSpinner';\nimport Like from '../components/Like';\nimport Contributor from '../components/Contributor';\nimport {ReactComponent as BackIcon} from '../icons/Back.svg';\nimport {ReactComponent as WebIcon} from '../icons/Globe.svg';\nimport {ReactComponent as LikedIcon} from '../icons/HeartFull.svg';\n\nconst dataController = require('../controllers/dataController.js');\nconst userController = require('../controllers/userController.js');\n\n//AIRTABLE HELPERS\nconst Airtable = require('airtable');\nconst base = new Airtable({\n  apiKey: process.env.REACT_APP_AIRTABLE_API_KEY,\n}).base(process.env.REACT_APP_AIRTABLE_BASE_ID);\nconst table = base('recommendations');\nconst tableContributors = base('contributors');\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading : true,\n      urlItemId : decodeURIComponent(window.location.pathname.split(\"/\").pop()),\n      itemData  : []\n    };\n    window.scrollTo(0, 0);\n  }\n\n  componentDidMount() {\n\n    table.find(this.state.urlItemId, async (err, item) => {\n      if (err) {\n        console.error(err)\n        return\n      }\n      const itemData = item.fields;\n\n      tableContributors.find(itemData.contribuidor, async (err, contributor) => {\n        if (err) {\n          console.error(err)\n          return\n        }\n\n        const contributorData = contributor?.fields;\n        this.setState({\n          isLoading        : false,\n          itemData         : itemData,\n          contributorData  : contributorData,\n          isLikedBy        : this.state.itemData.isLikedBy\n        });\n\n      });\n\n    });\n\n\n  }\n\n\n  render() {\n    return (\n    <div className=\"app_wrapper item_view\">\n\n      <Header />\n      <div className=\"global\">\n        <div className=\"container container-m\">\n            <div className=\"back-icon\" onClick={this.props.history.goBack}><BackIcon className=\"\" /></div>\n            {this.state.isLoading ? <LoadingSpinner /> : this.itemTemplate()}\n        </div>\n      </div>\n\n      <Footer/>\n\n    </div>\n    );\n  }\n\n  itemTemplate(){\n    return(\n      <div className=\"item-wrapper\">\n          <div className=\"item-container mt-s card-16\">\n            <div className=\"grid\">\n                <div className=\"grid__item width-6/12 width-12/12@m\">\n                  <img className=\"item-img\" src={this.state.itemData?.imageUrl} alt=\"cover\"/>\n                </div>\n                <div className=\"grid__item width-6/12 width-12/12@m\">\n                  <div className=\"item-content\">\n\n                      <div className=\"item-content-top\">\n                        <Like itemId={this.state?.urlItemId}/>\n                        <Link to={ '/categories/' + this.state.itemData?.categories } className=\"badge\">{this.state.itemData?.categories}</Link>\n                        { this.state.itemData?.topics?.map((topic, key) => { return (<Link to={ '/topics/' + topic } className=\"badge badge-outline\" key={key}>#{topic}</Link>) }) }\n                        <h2>{this.state.itemData?.title}</h2>\n                        <Contributor contributor={this.state.contributorData} className=\"no-m\"/>\n                        <p className=\"hero-text\">{this.state.itemData?.description}</p>\n                        {this.state.itemData?.isLikedBy ? this.getIsLikedBy() : ''}\n                      </div>\n\n                      <div className=\"item-content-bottom\">\n                        <a href={this.state.itemData?.url} target=\"_blank\" rel=\"noopener noreferrer\" className=\"link-box\">\n                          <WebIcon className=\"link-box-icon icon-24 icon-grey\" />\n                          <div className=\"link-box-content grey\">\n                            <span>Website</span>\n                            <span>{Helpers.truncateText(this.state.itemData?.url, 40)}</span>\n                          </div>\n                        </a>\n                      </div>\n\n                  </div>\n                </div>\n            </div>\n          </div>\n      </div>\n    )\n  }\n\n  getIsLikedBy(){\n    let isLikedArr = this.state.itemData?.isLikedBy.filter(function(person) {return person !== userController.getSession()?.name})\n    if (isLikedArr.length === 0) return\n    return (\n      <div className=\"is-liked-by\">\n        <LikedIcon className=\"icon-14 icon-grey\"/>\n        {isLikedArr.map((contributor, key) => {\n            return (\n              <Link to={ '/profile/' + contributor } className=\"grey underline-hover is-liked-name\" key={key}>{contributor}</Link>\n            )\n          })\n        }liked\n      </div>\n    )\n  }\n\n\n}\n\nexport default Item;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Router, Route, Switch, Redirect } from 'react-router-dom'\nimport history from './history';\n\n\nimport './css/index.css';\n\nimport BottomBar from './components/BottomBar';\n\nimport App from './App';\nimport Detail from './Detail';\nimport About from './views/About';\nimport Notfound from './views/Notfound';\nimport Search from './views/Search';\nimport Signup from './views/Signup';\nimport Login from './views/Login';\nimport Home from './views/Home';\nimport Profile from './views/Profile';\nimport ExternalProfile from './views/ExternalProfile';\nimport Likes from './views/Likes';\nimport CreateUrl from './views/CreateUrl';\nimport Item from './views/Item';\n\nimport * as serviceWorker from './serviceWorker';\nconst userController = require('./controllers/userController.js');\n\nwindow.$api = 'https://api.airtable.com/v0/'+process.env.REACT_APP_AIRTABLE_BASE_ID+'/recommendations?api_key='+process.env.REACT_APP_AIRTABLE_API_KEY;\nwindow.$api_contributors = 'https://api.airtable.com/v0/'+process.env.REACT_APP_AIRTABLE_BASE_ID+'/contributors?api_key='+process.env.REACT_APP_AIRTABLE_API_KEY;\n\nconst AuthenticatedRoute = ({ component: Component, ...rest}) => (\n  <Route\n    {...rest}\n    render={props =>\n      userController.isAuthenticated() ? (\n        <Component {...props}/>\n      ) : (\n        <Redirect to={{\n            pathname:'/signup',\n            state:{from: props.location}\n          }}\n        />\n      )\n    }\n  />\n)\n\n\nconst routing = (\n  <Router history={history}>\n\n      <Switch>\n\n        <Route exact path=\"/\" component={Home} />\n        <Route exact path=\"/feed\" component={App} />\n\n        <Route path=\"/categories/:id\" component={Detail} />\n        <Route path=\"/topics/:id\" component={Detail} />\n        <Route path=\"/collection/:id\" component={Detail} />\n        <Route path=\"/profile/:id\" component={ExternalProfile} />\n        <Route path=\"/item/:id\" component={Item} />\n\n        <Route exact path=\"/about\" component={About} />\n        <Route exact path=\"/search\" component={Search} />\n\n        <Route exact path=\"/signup\" component={Signup} />\n        <Route exact path=\"/login\" component={Login} />\n\n        <AuthenticatedRoute path=\"/create\" component={CreateUrl}/>\n        <AuthenticatedRoute path=\"/likes\" component={Likes}/>\n        <AuthenticatedRoute path=\"/profile\" component={Profile}/>\n\n        <Route component={Notfound} />\n\n      </Switch>\n\n      <BottomBar/>\n\n  </Router>\n)\n\n\nReactDOM.render(routing, document.getElementById('root'))\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","//HOW TO USE\n//const data = require('./dataController.js');\n//data.getAirtableRecords(table, options)\n\nexport const getAirtableRecords = (table, options) => {\n  let records = [];\n  const params = {\n    view: 'Grid view',\n    pageSize: 15,\n  };\n\n  Object.assign(params, options);\n\n  return new Promise((resolve, reject) => {\n    // Cache results if called already\n    if (records.length > 0) {\n      resolve(records);\n    }\n\n    const processPage = (partialRecords, fetchNextPage) => {\n      records = [...records, ...partialRecords];\n      fetchNextPage();\n    };\n\n    const processRecords = err => {\n      if (err) {\n        reject(err);\n        return;\n      }\n\n      resolve(records);\n    };\n\n    table.select(params).eachPage(processPage, processRecords);\n  });\n};\n","import { createBrowserHistory } from 'history';\n\nexport default createBrowserHistory();\n","import history from '../history';\nconst data = require('./dataController.js');\n\n//AIRTABLE HELPERS\nconst Airtable = require('airtable');\nconst base = new Airtable({\n  apiKey: process.env.REACT_APP_AIRTABLE_API_KEY,\n}).base(process.env.REACT_APP_AIRTABLE_BASE_ID);\nconst table = base('recommendations');\n\n\n\n//METHODS\nexport const getRecommendationById = (id) => {\n  return new Promise((resolve, reject) => {\n    const processRecord = (err, record) => {\n      if (err) {\n        reject(err);\n        return;\n      }\n      const id = { id:record.id };\n      const fields = record.fields;\n      record = {...id, ...fields};\n      resolve(record);\n    };\n    base('recommendations').find(id, processRecord);\n  });\n}\n\nexport const hydrateUserLikes = async (user) => {\n  //console.log('hydrateUserLikes',user)\n  let likeIds = user.likes;\n  let recommendationsWithDetails = [];\n  if (!likeIds) return [];\n  for( const id of likeIds) {\n    recommendationsWithDetails.push(await getRecommendationById(id))\n  }\n  user.likes = recommendationsWithDetails;\n  return user;\n}\n\nexport const hydrateUserPubItems = async (user, next) => {\n  //console.log('hydrateUserPubItems',user)\n  let pubitemIds = user.items;\n  let pubitemWithDetails = [];\n  if (!pubitemIds) return [];\n  for( const id of pubitemIds) {\n    pubitemWithDetails.push(await getRecommendationById(id))\n  }\n  user.items = pubitemWithDetails;\n  return user;\n}\n\n\n\n//RETURNS BOOLEAN\nconst findItem = async (title, url) => {\n  //console.log('findItem', title, url)\n  let recordExists = false;\n  let options = {};\n  if (title && url) {\n    options = {\n      filterByFormula: `OR(title = '${title}', url = '${url}')`\n    };\n  } else {\n    options = {\n      filterByFormula: `OR(title = '${title}', url = '${title}')`\n    };\n  }\n\n  const items = await data.getAirtableRecords(table, options);\n\n  items.filter(item => {\n    if (item.get('title') === title || item.get('url') === url) {\n      return (recordExists = true);\n    }\n    return (recordExists = false);\n  });\n\n  return recordExists;\n};\n\n\n//ITEM MANAGEMENT\nexport const addItem = async (req) => {\n  //console.log('addItem', req)\n  const { title, description, url, imageUrl, categories, topics, contribuidor } = req;\n  const itemExists = await findItem(title, url);\n\n  if (itemExists) {\n    console.log('itemExists')\n    history.push({\n      pathname: '/create',\n      state: { type: 'error', message: 'It seems that it already exists. Please try again with another one.' }\n    })\n    return;\n  }\n\n  table.create(\n    {\n      title,\n      description,\n      url,\n      imageUrl,\n      categories,\n      topics,\n      contribuidor\n    },\n    function(err, record) {\n      if (err) {\n        console.error(err);\n        history.push({\n          pathname: '/create',\n          state: { type: 'error', message: 'Something happened when uploading. Please try again.' }\n        })\n        return;\n      }\n      //console.log(record)\n      req.id = record.getId();\n      //Success creating item!\n      history.push({\n        pathname: '/profile',\n        state: { type: 'success',  message: 'Item created succesfully!' }\n      })\n    }\n  );\n};\n\n\n\nexport const uploadToCloudinary = (file, next) => {\n  var url = `https://api.cloudinary.com/v1_1/${process.env.REACT_APP_CLOUDINARY_CLOUD_NAME}/upload`;\n  var xhr = new XMLHttpRequest();\n  var fd = new FormData();\n  xhr.open('POST', url, true);\n  xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n  fd.append('upload_preset', 'cloudinary_airtable_preset');\n  fd.append('tags', 'browser_upload'); // Optional - add tag for image admin in Cloudinary\n  fd.append('file', file.imageUrl);\n  xhr.send(fd);\n  xhr.onreadystatechange = function(e) {\n    if (xhr.readyState === 4 && xhr.status === 200) {\n      // File uploaded successfully\n      var response = JSON.parse(xhr.responseText);\n      var url = response.secure_url;\n      file.imageUrl = url;\n      next(file)//next function add item\n    }\n    if (xhr.status === 400) {\n      history.push({\n        pathname: '/create',\n        state: { type: 'error', message: 'Something happened when uploading. Please try again.'}\n      })\n    }\n    //@TODO Look for errors\n    // history.push({\n    //   pathname: '/create',\n    //   state: { type: 'error', message: 'Something happened when uploading. Please try again.'}\n    // })\n\n  }.bind(this);\n}\n\n\n//MIXES LOCAL STORAGE ITEMS WITH AIRTABLE LIKES PRIORIZING LOCALSTORAGE\n//THEN UPDATES TABLE AND RETURNS LIKES WITH DETAILS\n//@PARAMS Array with like id's\n// export const syncMixLocalwithTableFavs = async (userlikes) => {\n//   //Get storage favs\n//   let storageFavs = Helpers.getStorageFavs()\n//   // if ( Object.keys(storageFavs).length === 0 ){\n//   //   syncSetStorageFavs(userlikes)\n//   //   storageFavs = Helpers.getStorageFavs()\n//   // }\n//   if (!userlikes) userlikes = [];\n//   //Get matching id's\n//   let matchingFavs = userlikes.filter(recommendation => storageFavs.some(favId => recommendation.id === favId))\n//   let matchingIds = [];\n//   matchingFavs.map((item) => matchingIds.push(item.id) )\n//   //Make one array storage + only matching\n//   let union = [...storageFavs, ...matchingIds];\n//   let withoutDuplicates = Array.from(new Set(union));\n//   let withoutDuplicatesWithDetails = [];\n//   for( const id of withoutDuplicates) {\n//     withoutDuplicatesWithDetails.push(await getRecommendationById(id))\n//   }\n//   //UDATE with arr of local + table likes\n//   userController.updateUserLikes(withoutDuplicates)\n//   return withoutDuplicatesWithDetails\n// }\n\n\n\nexport const getHydratedFavItems = async (userlikes) => {\n  if (!userlikes) userlikes = [];\n  let itemsWithDetails = [];\n  for( const id of userlikes) {\n    itemsWithDetails.push(await getRecommendationById(id))\n  }\n  return itemsWithDetails\n}\n"],"sourceRoot":""}