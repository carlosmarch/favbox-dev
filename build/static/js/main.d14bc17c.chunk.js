(this.webpackJsonpfavbox=this.webpackJsonpfavbox||[]).push([[0],{1:function(e,t,a){"use strict";function n(e){var t=e.map((function(e){return e.fields.temas})),a=Array.prototype.concat.apply([],t).filter((function(e,t,a){return a.indexOf(e)===t}));window.$topics=a.filter((function(e){return e}))}function r(e){var t=e.map((function(e){return e.fields.categorias})),a=Array.prototype.concat.apply([],t).filter((function(e,t,a){return a.indexOf(e)===t}));window.$categories=a.filter((function(e){return e}))}function i(e){var t=e.map((function(e){return e.fields.categorias}));return Array.prototype.concat.apply([],t).filter((function(e,t,a){return a.indexOf(e)===t}))}function s(){return decodeURIComponent(window.location.pathname.split("/")[1])}function l(){return decodeURIComponent(window.location.pathname.split("/").pop())}function c(e,t,a){return null==t&&(t=20),null==a&&(a="..."),e.length>t?e.substring(0,t-a.length)+a:e}function o(){for(var e,t=[],a=Object.keys(localStorage),n=0;e=a[n];n++)t.push(e);return t.filter((function(e){return"userSession"!==e})).filter((function(e){return null!=e}))}function m(e,t){var a=t&&t[0];return e.filter((function(e){return-1!==e.id.indexOf(a)}))}function u(e,t,a){return e.filter((function(e){var a;return null===(a=e.fields.categorias)||void 0===a?void 0:a.includes(t)})).slice(0,a)}function d(e,t,a){var n=[];return e.filter((function(e){var a;return null===(a=e.fields.colecciones)||void 0===a?void 0:a.includes(t)})).map((function(e){return n.push(e)})),n.slice(0,a)}function p(e,t){return e.filter((function(e){return t.some((function(t){var a;return null===(a=e.fields.categorias)||void 0===a?void 0:a.includes(t)}))}))}a.d(t,"j",(function(){return n})),a.d(t,"i",(function(){return r})),a.d(t,"f",(function(){return i})),a.d(t,"g",(function(){return s})),a.d(t,"h",(function(){return l})),a.d(t,"k",(function(){return c})),a.d(t,"d",(function(){return m})),a.d(t,"b",(function(){return u})),a.d(t,"c",(function(){return d})),a.d(t,"a",(function(){return p})),a.d(t,"e",(function(){return o}))},190:function(e,t,a){e.exports=a(409)},195:function(e,t,a){},206:function(e,t){},208:function(e,t){},21:function(e,t,a){"use strict";a.r(t),a.d(t,"addUser",(function(){return h})),a.d(t,"storePassword",(function(){return f})),a.d(t,"authenticate",(function(){return v})),a.d(t,"getUserByEmail",(function(){return g})),a.d(t,"updateUserLikes",(function(){return b})),a.d(t,"setSession",(function(){return E})),a.d(t,"getSession",(function(){return y})),a.d(t,"isAuthenticated",(function(){return w})),a.d(t,"signOut",(function(){return N})),a.d(t,"setLocalStorageFavs",(function(){return O})),a.d(t,"removeStorageFavs",(function(){return C})),a.d(t,"setStorage",(function(){return k})),a.d(t,"getStorage",(function(){return j}));var n=a(43),r=a(10),i=a.n(r),s=a(12),l=a(7),c=a(201),o=a(41),m=new(a(35))({apiKey:"keyu0nFPUS8ZCnRmb"}).base("appOyoqCMxKWB0IG8"),u=m("contributors"),d=m("contributorsPrivate"),p=function(){var e=Object(s.a)(i.a.mark((function e(t){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=!1,n={filterByFormula:"OR(email = '".concat(t,"')")},e.next=4,o.getAirtableRecords(d,n);case 4:return e.sent.filter((function(e){return a=e.get("email")===t})),e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(s.a)(i.a.mark((function e(t,a){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.email,r=t.name,e.next=3,p(n);case 3:if(!e.sent){e.next=7;break}return l.a.push({pathname:"/signup",state:{type:"error",message:"Email already exists!"}}),e.abrupt("return");case 7:u.create({name:r},(function(e,r){if(e)console.error(e);else{r.fields.id=r.id,E(r.fields),t.id=r.getId();var i=[t.id];d.create({email:n,userData:i},(function(e,n){e?console.error(e):(t.id=n.getId(),a(t))}))}}));case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),f=function(e){var t=e.password,a=e.id;c.hash(t,10,(function(e,t){e?console.error(e):d.update(a,{password:t},(function(e){e?console.error(e):l.a.push({pathname:"/profile",state:{type:"success",message:"Your account has been created!!"}})}))}))},v=function(e){var t=e.email,a=e.password,n={filterByFormula:"OR(email = '".concat(t,"')")};o.getAirtableRecords(d,n).then((function(e){e.length||l.a.push({pathname:"/login",state:{type:"info",message:"That email is not registered... Try to signup!"}}),e.forEach((function(e){c.compare(a,e.get("password"),(function(t,a){if(a){var n=e.fields.userData[0];u.find(n,(function(e,t){e?console.error(e):(t.fields.id=t.id,E(t.fields),l.a.push({pathname:"/profile",state:{type:"info",message:"Logged in!"}}))}))}else l.a.push({pathname:"/login",state:{type:"error",message:"Passwords dont match"}})}))}))})).catch((function(e){console.log(Error(e))}))},g=function(e,t){var a={filterByFormula:"OR(email = '".concat(e,"', name = '").concat(e,"')")};o.getAirtableRecords(u,a).then((function(e){e.forEach((function(e){return e}))})).catch((function(e){console.log(Error(e))}))},b=function(e){var t,a=null===(t=y())||void 0===t?void 0:t.id;a&&u.update(a,{likes:e},(function(e){e&&console.error(e)}))},E=function(e){delete e.password,localStorage.setItem("userSession",JSON.stringify(e))},y=function(){return JSON.parse(localStorage.getItem("userSession"))},w=function(){return null!==localStorage.getItem("userSession")},N=function(){localStorage.clear(),l.a.push({pathname:"/"})},O=function(e){if("undefined"!==typeof e){C();var t,a=Object(n.a)(e);try{for(a.s();!(t=a.n()).done;){var r=t.value;localStorage.setItem(r,!0)}}catch(i){a.e(i)}finally{a.f()}}},C=function(){var e=JSON.parse(localStorage.getItem("userSession"));localStorage.clear(),localStorage.setItem("userSession",JSON.stringify(e))},k=function(e,t){localStorage.setItem(e,JSON.stringify(t))},j=function(e){return JSON.parse(localStorage.getItem(e))}},238:function(e,t){},239:function(e,t){},409:function(e,t,a){"use strict";a.r(t);var n=a(189),r=a(0),i=a.n(r),s=a(42),l=a.n(s),c=a(33),o=a(7),m=(a(195),a(2)),u=a(3),d=a(19),p=a(5),h=a(4),f=a(6);function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function g(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var b=i.a.createElement("path",{d:"M11.9996 22L2.98736 13.305C2.36361 12.7251 1.86334 12.0081 1.52045 11.2026C1.17757 10.3971 1.00007 9.52194 1 8.63643C0.999927 7.75091 1.17728 6.87572 1.52003 6.07016C1.86278 5.2646 2.36293 4.5475 2.98659 3.96745C4.21624 2.79388 5.78832 2.11615 7.43297 2.05061C9.07762 1.98506 10.6922 2.53579 11.9997 3.60825C13.2762 2.52466 14.8668 1.95639 16.494 2.00261C18.1212 2.04884 19.6816 2.70662 20.9028 3.86117L21.0134 3.96746C21.637 4.54753 22.1371 5.26461 22.4799 6.07012C22.8226 6.87564 23 7.75078 23 8.63626C23 9.52173 22.8226 10.3969 22.4799 11.2024C22.1371 12.0079 21.637 12.725 21.0134 13.305L11.9996 22ZM7.68692 5.39519C6.77446 5.38255 5.88941 5.72965 5.19966 6.37064C4.88129 6.64366 4.62209 6.98771 4.44003 7.37892C4.25797 7.77014 4.1574 8.19916 4.14531 8.63624C4.15102 9.04752 4.23828 9.45279 4.40128 9.8251C4.56428 10.1974 4.79928 10.5282 5.09067 10.7956L11.9996 17.4622L18.91 10.7956C19.2056 10.5321 19.4435 10.2021 19.6067 9.82881C19.77 9.45557 19.8546 9.04833 19.8545 8.63604C19.8544 8.22374 19.7697 7.81653 19.6063 7.44336C19.4429 7.07018 19.2049 6.74021 18.9092 6.4769L18.7979 6.36892C18.1019 5.73989 17.2211 5.39505 16.3111 5.39536C15.4011 5.39567 14.5204 5.7411 13.8248 6.37061L12.0011 8.13121L10.175 6.37062C9.48502 5.72948 8.59966 5.38238 7.68692 5.39519Z",fill:"#02272C"}),E=function(e){var t=e.svgRef,a=e.title,n=g(e,["svgRef","title"]);return i.a.createElement("svg",v({width:24,height:24,viewBox:"0 0 24 24",fill:"none",ref:t},n),a?i.a.createElement("title",null,a):null,b)},y=i.a.forwardRef((function(e,t){return i.a.createElement(E,v({svgRef:t},e))}));a.p;function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function N(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var O=i.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.5 6.5C17.5 9.5 15 12 12 12C9 12 6.5 9.5 6.5 6.5C6.5 3.5 9 1 12 1C15 1 17.5 3.5 17.5 6.5ZM14.5 6.5C14.5 5.1 13.4 4 12 4C10.6 4 9.5 5.1 9.5 6.5C9.5 7.9 10.6 9 12 9C13.4 9 14.5 7.9 14.5 6.5ZM3 20C3 16.7 5.7 14 9 14H15C18.3 14 21 16.7 21 20V23H18V20C18 18.3 16.6 17 15 17H9C7.4 17 6 18.3 6 20V23H3V20Z",fill:"#02272C"}),C=function(e){var t=e.svgRef,a=e.title,n=N(e,["svgRef","title"]);return i.a.createElement("svg",w({width:24,height:24,viewBox:"0 0 24 24",fill:"none",ref:t},n),a?i.a.createElement("title",null,a):null,O)},k=i.a.forwardRef((function(e,t){return i.a.createElement(C,w({svgRef:t},e))}));a.p;function j(){return(j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function S(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var I=i.a.createElement("path",{d:"M18.5443 16.3731C19.6147 14.8746 20.2263 13.0703 20.2263 11.1132C20.2263 6.09786 16.1284 2 11.1131 2C6.09786 2 2 6.09786 2 11.1132C2 16.1284 6.09786 20.2263 11.1131 20.2263C13.0703 20.2263 14.8746 19.6147 16.3731 18.5443L19.8287 22L22 19.8287L18.5443 16.3731ZM5.08869 11.1132C5.08869 7.74924 7.77982 5.0581 11.1437 5.0581C14.5076 5.0581 17.1682 7.74924 17.1682 11.1132C17.1682 14.4771 14.4771 17.1376 11.1437 17.1376C7.8104 17.1376 5.08869 14.4465 5.08869 11.1132Z",fill:"#02272C"}),L=function(e){var t=e.svgRef,a=e.title,n=S(e,["svgRef","title"]);return i.a.createElement("svg",j({width:24,height:24,viewBox:"0 0 24 24",fill:"none",ref:t},n),a?i.a.createElement("title",null,a):null,I)},x=i.a.forwardRef((function(e,t){return i.a.createElement(L,j({svgRef:t},e))}));a.p;function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function R(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var P=i.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.43293 18.7605C7.58298 18.9139 7.78648 19 7.99868 19H15.9996C16.2118 19 16.4153 18.9139 16.5653 18.7605C16.7153 18.6072 16.7996 18.3992 16.7996 18.1824V15.696C18.2721 14.5695 19.3189 12.9581 19.7634 11.1342C20.2078 9.31017 20.0225 7.38533 19.2389 5.68477C18.4553 3.98422 17.1213 2.61217 15.4623 1.8004C13.8033 0.988632 11.921 0.786892 10.1333 1.22926C8.1833 1.69521 6.48172 2.90612 5.37769 4.61354C4.22471 6.34445 3.77046 8.46356 4.10974 10.5285C4.44903 12.5935 5.55564 14.4448 7.19859 15.696V18.1824C7.19859 18.3992 7.28289 18.6072 7.43293 18.7605ZM13.5993 13.8819V16H10.3989V13.8819L9.60354 13.4092C8.87323 12.9859 8.26585 12.3722 7.84336 11.6307C7.42087 10.8892 7.19838 10.0465 7.19859 9.18852C7.19859 7.88743 7.70436 6.63964 8.60463 5.71963C9.50491 4.79963 10.7259 4.28277 11.9991 4.28277C13.2723 4.28277 14.4933 4.79963 15.3936 5.71963C16.2939 6.63964 16.7996 7.88743 16.7996 9.18852C16.7999 10.0465 16.5774 10.8892 16.1549 11.6307C15.7324 12.3722 15.125 12.9859 14.3947 13.4092L13.5993 13.8819ZM14.6002 20H13.0002H11.4001H9.80003C9.35819 20 9 20.3582 9 20.8C9 21.2419 9.35819 21.6001 9.80003 21.6001H10.6001L10.6001 22.2C10.6001 22.6418 10.9582 23 11.4001 23H13.0002C13.442 23 13.8002 22.6418 13.8002 22.2L13.8002 21.6001H14.6002C15.0421 21.6001 15.4003 21.2419 15.4003 20.8C15.4003 20.3582 15.0421 20 14.6002 20Z",fill:"#02272C"}),M=function(e){var t=e.svgRef,a=e.title,n=R(e,["svgRef","title"]);return i.a.createElement("svg",_({width:24,height:24,viewBox:"0 0 24 24",fill:"none",ref:t},n),a?i.a.createElement("title",null,a):null,P)},H=i.a.forwardRef((function(e,t){return i.a.createElement(M,_({svgRef:t},e))}));a.p;function U(){return(U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function T(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var D=i.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.4142 1.68631L11.5858 1.68631L11.5858 11.5859L1.68636 11.5859L1.68636 14.4143L11.5858 14.4143L11.5858 24.3138L14.4142 24.3138L14.4142 14.4143L24.3138 14.4143L24.3138 11.5859L14.4142 11.5859L14.4142 1.68631Z",fill:"#02272C"}),W=function(e){var t=e.svgRef,a=e.title,n=T(e,["svgRef","title"]);return i.a.createElement("svg",U({width:26,height:26,viewBox:"0 0 26 26",fill:"none",ref:t},n),a?i.a.createElement("title",null,a):null,D)},q=i.a.forwardRef((function(e,t){return i.a.createElement(W,U({svgRef:t},e))})),A=(a.p,function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).toggleClass=n.toggleClass.bind(Object(d.a)(n)),n.state={activeIndex:null},n}return Object(u.a)(a,[{key:"toggleClass",value:function(e,t){this.setState({activeIndex:e})}},{key:"render",value:function(){return i.a.createElement("div",{className:"bottombar"},i.a.createElement("div",{className:"bottombar-wapper"},i.a.createElement(f.a,{to:"/feed",className:"bottombar-item-icon ".concat(0===this.state.activeIndex?"tab-active":""),onClick:this.toggleClass.bind(this,0)},i.a.createElement(H,{className:""})),i.a.createElement(f.a,{to:"/search",className:"bottombar-item-icon ".concat(1===this.state.activeIndex?"tab-active":""),onClick:this.toggleClass.bind(this,1)},i.a.createElement(x,{className:""})),i.a.createElement(f.a,{to:"/create",className:"bottombar-item-icon ".concat(2===this.state.activeIndex?"tab-active":""),onClick:this.toggleClass.bind(this,2)},i.a.createElement(q,{className:""})),i.a.createElement(f.a,{to:"/likes",className:"bottombar-item-icon ".concat(3===this.state.activeIndex?"tab-active":""),onClick:this.toggleClass.bind(this,3)},i.a.createElement(y,{className:""})),i.a.createElement(f.a,{to:"/profile",className:"bottombar-item-icon ".concat(4===this.state.activeIndex?"tab-active":""),onClick:this.toggleClass.bind(this,4)},i.a.createElement(k,{className:""})),i.a.createElement("span",{className:"active-line"})))}}]),a}(r.Component)),F=a(1),$=a(15),B=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return i.a.createElement("div",{className:"message ".concat(this.props.type)},this.props.message)}}]),a}(r.Component),G=a(21),Z=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(m.a)(this,a),(e=t.call(this)).nameChangeHandler=function(t){e.setState({name:t.target.value}),e.setState({isLoading:!1})},e.emailChangeHandler=function(t){e.setState({email:t.target.value}),e.setState({isLoading:!1})},e.passwordChangeHandler=function(t){e.setState({password:t.target.value}),e.setState({isLoading:!1})},e.state={isLoading:!1},e.handleSubmit=e.handleSubmit.bind(Object(d.a)(e)),e}return Object(u.a)(a,[{key:"handleSubmit",value:function(e){e.preventDefault(),G.addUser(this.state,G.storePassword),this.setState({isLoading:!0})}},{key:"componentDidMount",value:function(){if(o.a.location.state&&o.a.location.state.message){var e=Object($.a)({},o.a.location.state);delete e.message,delete e.type,o.a.replace(Object($.a)({},o.a.location,{state:e}))}this.setState({isLoading:!1})}},{key:"componentWillReceiveProps",value:function(e){this.setState({isLoading:!1})}},{key:"render",value:function(){var e,t;return i.a.createElement("div",{className:"app_wrapper signup_view"},i.a.createElement("header",{className:"header no@m"},i.a.createElement("div",{className:"container text-center"},i.a.createElement(f.a,{to:"/"},i.a.createElement("img",{className:"logo",src:"/logo.svg",alt:"logo"})))),i.a.createElement("div",{className:"global"},i.a.createElement("div",{className:"container container-s"},i.a.createElement("div",{className:"form-container"},i.a.createElement("div",{className:"mb-s text-center"},i.a.createElement(f.a,{to:"/"},i.a.createElement("img",{className:"logo mb-m no@dkt",src:"/logo.svg",alt:"logo"})),i.a.createElement("h3",{className:"centered"},"Get started"),i.a.createElement("p",null,"Absolutely free.")),o.a.location.state&&(null===(e=this.props.location.state)||void 0===e?void 0:e.message)?i.a.createElement(B,{type:this.props.location.state.type,message:this.props.location.state.message}):"",i.a.createElement("form",{onSubmit:this.handleSubmit,className:"signup-form"},i.a.createElement("div",null,i.a.createElement("label",null,"Name"),i.a.createElement("input",{name:"name",component:"input",type:"text",autoComplete:"name",onChange:this.nameChangeHandler,placeholder:"Dieter Rams",required:!0})),i.a.createElement("div",null,i.a.createElement("label",null,"Email"),o.a.location.state&&(null===(t=this.props.location.state)||void 0===t?void 0:t.email)?i.a.createElement("input",{name:"email",component:"input",type:"email",autoComplete:"email",onChange:this.emailChangeHandler,placeholder:"dieter@rams.com",required:!0,value:this.props.location.state.email}):i.a.createElement("input",{name:"email",component:"input",type:"email",autoComplete:"email",onChange:this.emailChangeHandler,placeholder:"dieter@rams.com",required:!0})),i.a.createElement("div",null,i.a.createElement("label",null,"Password"),i.a.createElement("input",{name:"password",component:"input",type:"password",autoComplete:"current-password",pattern:".{8,}",onChange:this.passwordChangeHandler,placeholder:"At least 8 characters",required:!0})),i.a.createElement("button",{className:"button submitbtn inline",type:"submit"},this.state.isLoading?"loading":"SignUp")),i.a.createElement("span",{className:"centered"},"Already have an account? ",i.a.createElement(f.a,{to:"/login",className:"link"},"Login"))))))}}]),a}(r.Component),K=a(21),V=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(m.a)(this,a),(e=t.call(this)).emailChangeHandler=function(t){e.setState({email:t.target.value})},e.handleSubmit=function(t){t.preventDefault(),l.a.render(i.a.createElement(Z,{email:e.state.email}),document.getElementById("root"))},e.state={isHoveredCategorias:!1,isHoveredTemas:!1,categorias:[],temas:[],email:""},e.handleHoverCategorias=e.handleHoverCategorias.bind(Object(d.a)(e)),e.handleHoverTemas=e.handleHoverTemas.bind(Object(d.a)(e)),e}return Object(u.a)(a,[{key:"handleHoverCategorias",value:function(){this.setState((function(e){return{isHoveredCategorias:!e.isHoveredCategorias}})),this.setState({categorias:window.$categories,temas:window.$topics})}},{key:"handleHoverTemas",value:function(){this.setState((function(e){return{isHoveredTemas:!e.isHoveredTemas}})),this.setState({categorias:window.$categories,temas:window.$topics})}},{key:"render",value:function(){return i.a.createElement("header",{className:"header no@m"},i.a.createElement("div",{className:"container flex-justify"},i.a.createElement("ul",{id:"primarymenu",className:"nav menu"},i.a.createElement("li",null,i.a.createElement(f.a,{to:"/"},i.a.createElement("img",{className:"logo",src:"/logo.svg",alt:"logo"}))),i.a.createElement("li",null,i.a.createElement(f.a,{to:"/feed"},"Discover")),i.a.createElement("li",{id:"menuitem-categorias",className:this.state.isHoveredCategorias?"hoverstate":"",onMouseEnter:this.handleHoverCategorias,onMouseLeave:this.handleHoverCategorias},i.a.createElement("div",null,"Feel like?"),i.a.createElement("svg",{viewBox:"0 0 30 30",className:"chevron"},i.a.createElement("polygon",{points:"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 "})),i.a.createElement("div",{id:"dropdown-categorias",className:"drop-overlay"},i.a.createElement("ul",null,this.state.categorias&&this.state.categorias.map((function(e,t){return i.a.createElement("li",{key:t},i.a.createElement(f.a,{to:"/categorias/".concat(e)},e))}))))),i.a.createElement("li",{id:"menuitem-temas",className:this.state.isHoveredTemas?"hoverstate":"",onMouseEnter:this.handleHoverTemas,onMouseLeave:this.handleHoverTemas},i.a.createElement("div",null,"Topics"),i.a.createElement("svg",{viewBox:"0 0 30 30",className:"chevron"},i.a.createElement("polygon",{points:"15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 "})),i.a.createElement("div",{id:"dropdown-temas",className:"drop-overlay"},i.a.createElement("ul",null,this.state.temas&&this.state.temas.map((function(e,t){return i.a.createElement("li",{key:t},i.a.createElement(f.a,{to:"/temas/".concat(e)},e))})))))),K.isAuthenticated()?i.a.createElement("ul",{id:"usermenu",className:"nav menu"},i.a.createElement("li",null,i.a.createElement(f.a,{to:"/create",className:"link"},i.a.createElement(q,null)," Create")),i.a.createElement("li",null,i.a.createElement(f.a,{to:"/likes"},i.a.createElement(y,null)," Likes")),i.a.createElement("li",null,i.a.createElement(f.a,{to:"/profile"},i.a.createElement(k,null)," Profile"))):i.a.createElement("div",{className:"button button-outline button-header-login"},i.a.createElement(f.a,{to:"/signup"},"SignUp"))))}}]),a}(r.Component),J=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return i.a.createElement("footer",{className:"footer no@m"},i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"footnote"},"Gracias a Joan Mir\xf3 por la inspiraci\xf3n. Y a un buen pu\xf1ado de productos digitales excelentes",i.a.createElement("br",null),i.a.createElement("a",{href:"https://vsco.co/",target:"_blank",rel:"noopener noreferrer"},"Vsco"),",",i.a.createElement("a",{href:"https://stripe.com/",target:"_blank",rel:"noopener noreferrer"},"Stripe"),",",i.a.createElement("a",{href:"https://www.mapbox.com/",target:"_blank",rel:"noopener noreferrer"},"Mapbox"),",",i.a.createElement("a",{href:"https://www.intercom.com/",target:"_blank",rel:"noopener noreferrer"},"Intercom"),",",i.a.createElement("a",{href:"https://www.typeform.com/",target:"_blank",rel:"noopener noreferrer"},"Typeform"),",",i.a.createElement("a",{href:"https://www.notion.so/",target:"_blank",rel:"noopener noreferrer"},"Notion"),",",i.a.createElement("a",{href:"https://www.shopify.com/",target:"_blank",rel:"noopener noreferrer"},"Shopify"),",",i.a.createElement("a",{href:"https://www.eventbrite.es/",target:"_blank",rel:"noopener noreferrer"},"Eventbrite"),",",i.a.createElement("a",{href:"https://airtable.com/",target:"_blank",rel:"noopener noreferrer"},"Airtable")," &",i.a.createElement("a",{href:"https://es.reactjs.org/",target:"_blank",rel:"noopener noreferrer"},"React"),i.a.createElement("br",null),"que me han inspirado a programar y dise\xf1ar este proyecto."),i.a.createElement("div",{className:"divider"}),i.a.createElement("div",{className:"footnote"},"\xa9Hecho con cari\xf1o durante la cuarentena del COVID19. #yomequedoencasa v0.1")))}}]),a}(r.Component),z=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return i.a.createElement("div",{className:"container title-block"},this.props.link?i.a.createElement(f.a,{to:this.props.link,className:"block-title title-has-arrow ".concat(this.props.titleclass)},this.props.title):i.a.createElement("h2",{className:"block-title ".concat(this.props.titleclass)},this.props.title),i.a.createElement("p",{className:"block-description ".concat(this.props.descriptionclass)},this.props.description))}}]),a}(r.Component);function Y(){return(Y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function X(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Q=i.a.createElement("path",{d:"M2.98736 13.305L11.9996 22L21.0134 13.305C21.637 12.725 22.1371 12.0079 22.4799 11.2024C22.8226 10.3969 23 9.52173 23 8.63626C23 7.75078 22.8226 6.87564 22.4799 6.07012C22.1371 5.26461 21.637 4.54753 21.0134 3.96746L20.9028 3.86117C19.6816 2.70662 18.1212 2.04884 16.494 2.00261C14.8668 1.95639 13.2762 2.52466 11.9997 3.60825C10.6922 2.53579 9.07762 1.98506 7.43297 2.05061C5.78832 2.11615 4.21624 2.79388 2.98659 3.96745C2.36293 4.5475 1.86278 5.2646 1.52003 6.07016C1.17728 6.87572 0.999927 7.75091 1 8.63643C1.00007 9.52194 1.17757 10.3971 1.52045 11.2026C1.86334 12.0081 2.36361 12.7251 2.98736 13.305Z",fill:"#EB4962"}),ee=function(e){var t=e.svgRef,a=e.title,n=X(e,["svgRef","title"]);return i.a.createElement("svg",Y({width:24,height:24,viewBox:"0 0 24 24",fill:"none",ref:t},n),a?i.a.createElement("title",null,a):null,Q)},te=i.a.forwardRef((function(e,t){return i.a.createElement(ee,Y({svgRef:t},e))})),ae=(a.p,a(21)),ne=new(a(35))({apiKey:"keyu0nFPUS8ZCnRmb"}).base("appOyoqCMxKWB0IG8")("contributors"),re=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).handleLike=function(e){var t;e.preventDefault();var a=e.target.value,r=null===(t=ae.getSession())||void 0===t?void 0:t.id,i=n.props.itemId;if(ae.isAuthenticated()){if(null===localStorage.getItem(a)){localStorage.setItem(a,!0),n.setState({isLike:!0});var s=[];return ne.find(r,(function(e,t){e?console.error(e):("undefined"===typeof t.get("likes")?s.push(i):(s=t.get("likes")).push(i),ne.update(r,{likes:s},(function(e,t){e&&console.error(e)})))})),!0}localStorage.removeItem(a),n.setState({isLike:!1});var l=[];return ne.find(r,(function(e,t){e?console.error(e):"undefined"!==typeof t.get("likes")&&(l=t.get("likes").filter((function(e){return e!==i})),ne.update(r,{likes:l},(function(e,t){e&&console.error(e)})))})),!1}o.a.push({pathname:"/signup"})},n.state={isLike:null!==localStorage.getItem(n.props.itemId)},n}return Object(u.a)(a,[{key:"render",value:function(){var e;return e=this.state.isLike?i.a.createElement(te,null):i.a.createElement(y,null),i.a.createElement("div",{className:"like"},i.a.createElement("button",{className:"likebutton is-like-".concat(this.state.isLike),value:this.props.itemId,onClick:this.handleLike},e))}}]),a}(r.Component),ie=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return this.props.contributor?i.a.createElement("div",{className:"contributor"},i.a.createElement("div",{className:"user-badge"},i.a.createElement(k,null)),i.a.createElement("div",{className:"contributor-info"},i.a.createElement(f.a,{to:"/profile/".concat(this.props.contributor.name),className:"contributor-name link-inverted"},this.props.contributor.name),i.a.createElement("div",{className:"contributor-description"},this.props.contributor.description))):i.a.createElement("div",{className:"contributor"})}}]),a}(r.Component),se=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e;return i.a.createElement(f.a,{to:"/item/".concat(this.props.itemId),"data-id":this.props.itemId,className:"card grid__item width-3/12 width-6/12@m",style:{backgroundImage:"url(".concat(this.props.imageUrl,")")}},i.a.createElement(re,{itemId:this.props.itemId}),i.a.createElement("div",{className:"card-content ".concat("is-"+this.props.categorias)},i.a.createElement("div",{className:"card-category badge inline"},this.props.categorias),i.a.createElement("h3",{className:"card-title"},this.props.title),i.a.createElement("div",{className:"card-description"},this.props.description),i.a.createElement(ie,{contributor:null===(e=this.props.autor[0])||void 0===e?void 0:e.fields})))}}]),a}(r.Component),le=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e;return i.a.createElement(f.a,{to:"/item/".concat(this.props.itemId),"data-id":this.props.itemId,className:"musiccard width-3/12 width-6/12@m"},i.a.createElement("div",{className:"musiccard-album"},i.a.createElement(re,{itemId:this.props.itemId}),i.a.createElement("div",{className:"musiccard-album-contents"},i.a.createElement("img",{className:"play",src:"/img/play.svg",alt:"play"}),i.a.createElement(ie,{contributor:null===(e=this.props.autor[0])||void 0===e?void 0:e.fields})),i.a.createElement("img",{className:"musiccard-album-img",src:this.props.imageUrl,alt:"cover"})),i.a.createElement("h6",{className:"musiccard-title"},this.props.title),i.a.createElement("div",{className:"musiccard-description"},this.props.description))}}]),a}(r.Component),ce=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e;return i.a.createElement(f.a,{to:"/item/".concat(this.props.itemId),"data-id":this.props.itemId,className:"podcastcard width-6/12 width-12/12@m"},i.a.createElement("div",{className:"podcastcard-album"},i.a.createElement("div",{className:"podcastcard-album-contents"},i.a.createElement("img",{className:"play",src:"/img/play.svg",alt:"play"})),i.a.createElement("img",{className:"podcastcard-album-img",src:this.props.imageUrl,alt:"cover"})),i.a.createElement(re,{itemId:this.props.itemId}),i.a.createElement("div",{className:"podcastcard-content"},i.a.createElement("h6",{className:"podcastcard-title"},this.props.title),i.a.createElement("div",{className:"podcastcard-description"},F.k(this.props.description,70)),i.a.createElement(ie,{contributor:null===(e=this.props.autor[0])||void 0===e?void 0:e.fields})))}}]),a}(r.Component),oe=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return i.a.createElement(f.a,{to:"/colecciones/"+this.props.title,className:"grid__item collection-card bg-cyan ".concat(this.props.grid," width-12/12@m")},i.a.createElement("div",{className:"collection-card__title-container"},i.a.createElement("h3",{className:"collection-card__title"},this.props.title)),i.a.createElement("div",{className:"collection-card__number"},this.props.number," Items publicados"))}}]),a}(r.Component),me=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return i.a.createElement("div",{className:"Promo mt-l no@m"},i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"Promocard grid mt-xl"},i.a.createElement("div",{className:"grid__item width-10/12 width-12/12@m"},i.a.createElement("div",{className:"sticker"},i.a.createElement("span",{className:"letter"},"H"),i.a.createElement("span",{className:"letter"},"E"),i.a.createElement("span",{className:"letter"},"Y"),i.a.createElement("span",{className:"letter"},"!")),i.a.createElement("h3",null,"Tell us what you like"),i.a.createElement("p",null,"We will find recommendations for you and you can share your favorite inspiration sources.")),i.a.createElement("div",{className:"grid__item width-2/12 width-12/12@m"},i.a.createElement("a",{className:"button",href:"/signup"},"Get started!")))))}}]),a}(r.Component),ue=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(m.a)(this,a),(e=t.call(this)).handleWindowSizeChange=function(){e.setState({width:window.innerWidth})},e.state={width:window.innerWidth},e}return Object(u.a)(a,[{key:"componentWillMount",value:function(){window.addEventListener("resize",this.handleWindowSizeChange)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleWindowSizeChange)}},{key:"render",value:function(){var e,t;return this.state.width<=500?i.a.createElement("a",{className:"articlelist",href:this.props.url,target:"_blank",rel:"noopener noreferrer"},i.a.createElement("div",{className:"articlelist-title"},i.a.createElement("div",{className:"articlelist-category badge inline"},this.props.categorias),i.a.createElement("h5",null,this.props.title)),i.a.createElement("div",{className:"articlelist-description"},i.a.createElement("p",null,this.props.description),i.a.createElement(ie,{contributor:null===(e=this.props.autor[0])||void 0===e?void 0:e.fields})),i.a.createElement(re,{itemId:this.props.itemId})):i.a.createElement("a",{className:"articlelist",href:this.props.url,target:"_blank",rel:"noopener noreferrer"},i.a.createElement("div",{className:"articlelist-title"},i.a.createElement("h5",null,this.props.title),i.a.createElement(ie,{contributor:null===(t=this.props.autor[0])||void 0===t?void 0:t.fields})),i.a.createElement("div",{className:"articlelist-description"},i.a.createElement("div",{className:"articlelist-category badge inline"},this.props.categorias),i.a.createElement("p",null,this.props.description)),i.a.createElement(re,{itemId:this.props.itemId}))}}]),a}(r.Component),de=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e;return i.a.createElement(f.a,{to:"/item/".concat(this.props.itemId),"data-id":this.props.itemId,className:"videocard width-4/12 width-6/12@m"},i.a.createElement(re,{itemId:this.props.itemId}),i.a.createElement("div",{className:"videocard-cover"},i.a.createElement("img",{className:"play",src:"/img/play.svg",alt:"play"}),i.a.createElement("img",{className:"videocard-cover-img",src:this.props.imageUrl,alt:"cover"})),i.a.createElement("h6",{className:"videocard-title"},F.k(this.props.title,40)),i.a.createElement("div",{className:"videocard-description"},F.k(this.props.description,90)),i.a.createElement(ie,{contributor:null===(e=this.props.autor[0])||void 0===e?void 0:e.fields}))}}]),a}(r.Component),pe=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e;return i.a.createElement(f.a,{to:"/item/".concat(this.props.itemId),"data-id":this.props.itemId,className:"appcard width-6/12 width-12/12@m"},i.a.createElement("div",{className:"appcard-icon-wrap"},i.a.createElement("div",{className:"appcard-icon"},i.a.createElement(re,{itemId:this.props.itemId}),i.a.createElement("img",{className:"appcard-img",src:this.props.imageUrl,alt:"icon"}))),i.a.createElement("div",{className:"appcard-content"},i.a.createElement("h6",{className:"appcard-title"},this.props.title),i.a.createElement("div",{className:"appcard-description"},F.k(this.props.description,50)),i.a.createElement(ie,{contributor:null===(e=this.props.autor[0])||void 0===e?void 0:e.fields})))}}]),a}(r.Component),he=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return i.a.createElement("div",{className:"container loader-container"},i.a.createElement("div",{className:"rotating-wrapper"},i.a.createElement("img",{src:"/img/text.svg",className:"rotating-text rotating",alt:"Mequedoencasa"})))}}]),a}(r.Component),fe=a(21),ve=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={isLoading:!0,recommendations:[],contributors:[],isAuthenticated:fe.isAuthenticated()},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch(window.$api).then((function(e){return e.json()})).then((function(e){return F.j(e.records),F.i(e.records),window.$alldata=e.records,fetch(window.$api_contributors)})).then((function(e,t){return e.json()})).then((function(t){delete t.records.password,e.setState({isLoading:!1,recommendations:window.$alldata.sort((function(){return Math.random()-.5})),contributors:t.records})})).catch((function(e){}))}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"app_wrapper app_view"},i.a.createElement(V,null),i.a.createElement("div",{className:"global appview"},i.a.createElement("main",null,i.a.createElement("div",{className:"GridCard mb-l"},i.a.createElement(z,{title:"Libros",description:"Las recomendaciones mas destacadas",link:"categorias/libro"}),i.a.createElement("div",{className:"container container-xl"},i.a.createElement("div",{className:"grid"},this.state.isLoading?i.a.createElement(he,null):F.b(this.state.recommendations,"libro",4).map((function(t){return i.a.createElement(se,Object.assign({},t.fields,{key:t.id,itemId:t.id,autor:F.d(e.state.contributors,t.fields.contribuidor)}))}))))),i.a.createElement("div",{className:"GridCard mb-l"},i.a.createElement(z,{title:"Pelis & series",description:"Las recomendaciones mas destacadas",link:"categorias/serie"}),i.a.createElement("div",{className:"container container-xl"},i.a.createElement("div",{className:"grid"},this.state.isLoading?i.a.createElement(he,null):F.b(this.state.recommendations,"pel\xedcula",8).map((function(t){return i.a.createElement(se,Object.assign({},t.fields,{key:t.id,itemId:t.id,autor:F.d(e.state.contributors,t.fields.contribuidor)}))})),this.state.isLoading?"":F.b(this.state.recommendations,"serie",8).map((function(t){return i.a.createElement(se,Object.assign({},t.fields,{key:t.id,itemId:t.id,autor:F.d(e.state.contributors,t.fields.contribuidor)}))}))))),i.a.createElement("div",{className:"MusicGrid"},i.a.createElement(z,{title:"M\xfasica",description:"Las recomendaciones mas destacadas",link:"categorias/m\xfasica"}),i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"grid mt-s"},this.state.isLoading?i.a.createElement(he,null):F.b(this.state.recommendations,"m\xfasica",8).map((function(t){return i.a.createElement(le,Object.assign({},t.fields,{key:t.id,itemId:t.id,autor:F.d(e.state.contributors,t.fields.contribuidor)}))})))),i.a.createElement(z,{title:"Podcasts",description:"Las recomendaciones mas destacadas",link:"categorias/podcast",titleclass:"mt-l"}),i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"grid mt-s"},this.state.isLoading?i.a.createElement(he,null):F.b(this.state.recommendations,"podcast",4).map((function(t){return i.a.createElement(ce,Object.assign({},t.fields,{key:t.id,itemId:t.id,autor:F.d(e.state.contributors,t.fields.contribuidor)}))}))))),i.a.createElement("div",{className:"GridCard"},i.a.createElement(z,{title:"Revistas",description:"Las recomendaciones mas destacadas",link:"categorias/revista"}),i.a.createElement("div",{className:"container container-xl"},i.a.createElement("div",{className:"grid"},this.state.isLoading?i.a.createElement(he,null):F.b(this.state.recommendations,"revista",4).map((function(t){return i.a.createElement(se,Object.assign({},t.fields,{key:t.id,itemId:t.id,autor:F.d(e.state.contributors,t.fields.contribuidor)}))})),i.a.createElement("img",{className:"lines",src:"/img/dot-3.svg",alt:"lines"})))),i.a.createElement("div",{className:"AppGrid mt-l"},i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"grid"},i.a.createElement("div",{className:"grid__item width-8/12 width-12/12@m grid"},this.state.isLoading?i.a.createElement(he,null):F.b(this.state.recommendations,"app",8).map((function(t){return i.a.createElement(pe,Object.assign({},t.fields,{key:t.id,itemId:t.id,autor:F.d(e.state.contributors,t.fields.contribuidor)}))}))),i.a.createElement("div",{className:"grid__item width-4/12 width-12/12@m"},i.a.createElement(z,{title:"Apps",description:"Apps para todo el mundo",link:"categorias/app"}))))),i.a.createElement("div",{className:"GridVideo mt-l"},i.a.createElement(z,{title:"Videos",description:"Las recomendaciones mas destacadas",link:"categorias/video"}),i.a.createElement("div",{className:"container container-xl"},i.a.createElement("div",{className:"grid"},this.state.isLoading?i.a.createElement(he,null):F.b(this.state.recommendations,"video",6).map((function(t){return i.a.createElement(de,Object.assign({},t.fields,{key:t.id,itemId:t.id,autor:F.d(e.state.contributors,t.fields.contribuidor)}))})),i.a.createElement("img",{className:"lines",src:"/img/dot-2.svg",alt:"lines"})))),i.a.createElement("div",{className:"GridColection mt-l"},i.a.createElement(z,{title:"Colecciones",description:"Las recomendaciones mas destacadas"}),i.a.createElement("div",{className:"container container-xl"},i.a.createElement("div",{className:"grid mt-s"},i.a.createElement(oe,{title:"darle al coco",grid:"width-4/12",number:F.c(this.state.recommendations,"darle al coco").length}),i.a.createElement(oe,{title:"mantenerse en forma",grid:"width-4/12",number:F.c(this.state.recommendations,"mantenerse en forma").length}),i.a.createElement(oe,{title:"pandemias, contagios y visionarios",grid:"width-4/12",number:"0"}),i.a.createElement(oe,{title:"aprender",grid:"width-6/12",number:F.c(this.state.recommendations,"aprender").length}),i.a.createElement(oe,{title:"futuros",grid:"width-6/12",number:F.c(this.state.recommendations,"futuros").length})))),i.a.createElement("div",{className:"ArticlesGrid mt-l"},i.a.createElement(z,{title:"Qu\xe9 leer",description:"Art\xedculos, newsletters y webs para entretenerse un rato navegando.",titleclass:"big-title",descriptionclass:"big-description",link:"categorias/art\xedculo"}),i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"mt-s"},this.state.isLoading?i.a.createElement(he,null):F.b(this.state.recommendations,"art\xedculo",20).map((function(t){return i.a.createElement(ue,Object.assign({},t.fields,{key:t.id,itemId:t.id,autor:F.d(e.state.contributors,t.fields.contribuidor)}))})),this.state.isLoading?i.a.createElement(he,null):F.b(this.state.recommendations,"newsletter",20).map((function(t){return i.a.createElement(ue,Object.assign({},t.fields,{key:t.id,itemId:t.id,autor:F.d(e.state.contributors,t.fields.contribuidor)}))})),this.state.isLoading?i.a.createElement(he,null):F.b(this.state.recommendations,"web",20).map((function(t){return i.a.createElement(ue,Object.assign({},t.fields,{key:t.id,itemId:t.id,autor:F.d(e.state.contributors,t.fields.contribuidor)}))}))))),this.state.isAuthenticated?"":i.a.createElement(me,null),i.a.createElement("div",{className:"TopicCollection mt-l no@m"},i.a.createElement("div",{className:"container container-s"},i.a.createElement("div",{className:" grid mt-s"},window.$topics&&window.$topics.map((function(e,t){return i.a.createElement(f.a,{to:"/temas/".concat(e),key:t,className:"topic-card width-3/12 width-6/12@m"},e)}))))))),i.a.createElement(J,null))}}]),a}(r.Component),ge=["libro","revista"],be=["m\xfasica"],Ee=["podcast"],ye=["art\xedculo","web","newsletter"],we=["video"],Ne=["app"],Oe=["pel\xedcula","serie"];var Ce=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return i.a.createElement("div",{className:"Notfound global"},i.a.createElement(z,{title:"Notfound",description:"No lo hemos esncontrado"}),i.a.createElement("div",{className:"rotating-wrapper no@m"},i.a.createElement("img",{src:"/img/text.svg",className:"rotating-text rotating",alt:"Mequedoencasa"})))}}]),a}(r.Component),ke=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={isLoading:!0,recommendations:[],category:F.g(),topic:F.h()},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch(window.$api+"&filterByFormula=Find(%22"+this.state.topic+"%22%2C+"+this.state.category+")").then((function(e){return e.json()})).then((function(e){return window.$pagedata=e.records,fetch(window.$api)})).then((function(e){return e.json()})).then((function(e){return F.j(e.records),F.i(e.records),window.$alldata=e.records,fetch(window.$api_contributors)})).then((function(e,t){return e.json()})).then((function(t){e.setState({isLoading:!1,recommendations:window.$pagedata,contributors:t.records})})).catch((function(e){}))}},{key:"componentDidUpdate",value:function(e){var t=this;F.h()===e.match.params.id&&F.g()===e.match.url.split("/")[1]||this.setState({isLoading:!0,category:F.g(),topic:F.h()},(function(){t.componentDidMount()}))}},{key:"matchCategoriesWithTemplates",value:function(e){return F.f(this.state.recommendations).filter((function(t){return e.includes(t)}))}},{key:"render",value:function(){return window.scrollTo(0,0),i.a.createElement("div",{className:"app_wrapper detail_view"},i.a.createElement(V,null),i.a.createElement("div",{className:"global"},i.a.createElement("main",null,i.a.createElement("div",{id:"Detail",className:"pb-xl is-detail ".concat("is-"+this.state.category," ").concat("is-"+this.state.topic.replace(/ /g,"_"))},!this.state.isLoading&&window.$pagedata.length&&0===window.$pagedata.length?i.a.createElement(Ce,null):i.a.createElement(z,{title:this.state.topic,description:"Las recomendaciones de "+this.state.topic+" mas destacadas",titleclass:"big-title mt-s",descriptionclass:"big-description mb-m"}),this.state.isLoading?i.a.createElement(he,null):this.matchCategoriesWithTemplates(ge)&&this.matchCategoriesWithTemplates(ge).length?(e=this.state.recommendations,t=this.state.contributors,i.a.createElement("div",{className:"GridCard"},i.a.createElement("div",{className:"container container-xl"},i.a.createElement("div",{className:"grid"},F.a(e,ge).map((function(e){return i.a.createElement(se,Object.assign({},e.fields,{key:e.id,itemId:e.id,autor:F.d(t,e.fields.contribuidor)}))})))))):"",this.state.isLoading?"":this.matchCategoriesWithTemplates(Oe)&&this.matchCategoriesWithTemplates(Oe).length?function(e,t,a){return i.a.createElement("div",{className:"GridCard"},i.a.createElement(z,{title:"categorias"===a?"":"Cinema & Series",titleclass:"favoritos"===a?"small-title":""}),i.a.createElement("div",{className:"container container-xl"},i.a.createElement("div",{className:"grid"},F.a(e,Oe).map((function(e){return i.a.createElement(se,Object.assign({},e.fields,{key:e.id,itemId:e.id,autor:F.d(t,e.fields.contribuidor)}))})))))}(this.state.recommendations,this.state.contributors,this.state.category):"",this.state.isLoading?"":this.matchCategoriesWithTemplates(be)&&this.matchCategoriesWithTemplates(be).length?function(e,t,a){return i.a.createElement("div",{className:"MusicGrid-detail mt-l"},i.a.createElement(z,{title:"categorias"===a?"":"M\xfasica",titleclass:"favoritos"===a?"small-title":""}),i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"grid"},F.a(e,be).map((function(e){return i.a.createElement(le,Object.assign({},e.fields,{key:e.id,itemId:e.id,autor:F.d(t,e.fields.contribuidor)}))})))))}(this.state.recommendations,this.state.contributors,this.state.category):"",this.state.isLoading?"":this.matchCategoriesWithTemplates(Ee)&&this.matchCategoriesWithTemplates(Ee).length?function(e,t,a){return i.a.createElement("div",{className:"PodcastGrid mt-l"},i.a.createElement("div",{className:"container mt-l"},i.a.createElement(z,{title:"categorias"===a?"":"Para escuchar",titleclass:"favoritos"===a?"small-title":""}),i.a.createElement("div",{className:"grid"},F.a(e,Ee).map((function(e){return i.a.createElement(ce,Object.assign({},e.fields,{key:e.id,itemId:e.id,autor:F.d(t,e.fields.contribuidor)}))})))))}(this.state.recommendations,this.state.contributors,this.state.category):"",this.state.isLoading?"":this.matchCategoriesWithTemplates(we)&&this.matchCategoriesWithTemplates(we).length?function(e,t,a){return i.a.createElement("div",{className:"ArticlesGrid mt-l"},i.a.createElement(z,{title:"categorias"===a?"":"Videos",titleclass:"favoritos"===a?"small-title":""}),i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"grid"},F.a(e,we).map((function(e){return i.a.createElement(de,Object.assign({},e.fields,{key:e.id,itemId:e.id,autor:F.d(t,e.fields.contribuidor)}))})))))}(this.state.recommendations,this.state.contributors,this.state.category):"",this.state.isLoading?"":this.matchCategoriesWithTemplates(Ne)&&this.matchCategoriesWithTemplates(Ne).length?function(e,t,a){return i.a.createElement("div",{className:"AppGrid-detail mt-l"},i.a.createElement(z,{title:"categorias"===a?"":"Apps",titleclass:"favoritos"===a?"small-title":""}),i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"grid"},F.a(e,Ne).map((function(e){return i.a.createElement(pe,Object.assign({},e.fields,{key:e.id,itemId:e.id,autor:F.d(t,e.fields.contribuidor)}))})))))}(this.state.recommendations,this.state.contributors,this.state.category):"",this.state.isLoading?"":this.matchCategoriesWithTemplates(ye)&&this.matchCategoriesWithTemplates(ye).length?function(e,t,a){return i.a.createElement("div",{className:"ArticlesGrid mt-l"},i.a.createElement(z,{title:"categorias"===a?"":"M\xe1s",titleclass:"favoritos"===a?"small-title":""}),i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"grid"},F.a(e,ye).map((function(e){return i.a.createElement(ue,Object.assign({},e.fields,{key:e.id,itemId:e.id,autor:F.d(t,e.fields.contribuidor)}))})))))}(this.state.recommendations,this.state.contributors,this.state.category):"",i.a.createElement("img",{className:"lines",src:"/img/lines.svg",alt:"lines"}))),i.a.createElement(J,null)));var e,t}}]),a}(r.Component),je=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return i.a.createElement("div",{className:"app_wrapper about_view"},i.a.createElement(V,null),i.a.createElement("div",{className:"global"},i.a.createElement("div",{className:"container"},i.a.createElement(z,{title:"About"}),i.a.createElement("div",{className:"AboutContent mt-s"},i.a.createElement("h5",{className:"mb-s"},"\xbfC\xf3mo puedo ayudar a mis amigos (y a m\xed mismo) a pasar un tiempo m\xe1s entretenido durante la cuarentena?"),i.a.createElement("p",null,"El proyecto empieza durante la cuarentena de marzo por el COVID-19. ")))),i.a.createElement(J,null))}}]),a}(r.Component),Se=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(m.a)(this,a),(e=t.call(this)).state={isLoading:!1,categorias:window.$categories,temas:window.$topics},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;window.$categories||(this.setState({isLoading:!0}),fetch(window.$api).then((function(e){return e.json()})).then((function(t){F.j(t.records),F.i(t.records),window.$alldata=t.records,e.setState({isLoading:!1,categorias:window.$categories,temas:window.$topics},(function(){e.componentDidMount()}))})).catch((function(e){console.log(Error(e))})))}},{key:"render",value:function(){var e,t;return i.a.createElement("div",{className:"AllTopics"},i.a.createElement("div",{className:"Categories mt-l"},this.state.isLoading?i.a.createElement(he,null):null===(e=this.state.categorias)||void 0===e?void 0:e.map((function(e,t){return i.a.createElement(z,{title:e,link:"categorias/".concat(e),key:t})}))),i.a.createElement("div",{className:"Topics mb-l"},this.state.isLoading?"":null===(t=this.state.temas)||void 0===t?void 0:t.map((function(e,t){return i.a.createElement(z,{title:e,link:"temas/".concat(e),key:t})}))))}}]),a}(r.Component),Ie=a(21),Le=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(m.a)(this,a),(e=t.call(this)).emailChangeHandler=function(t){e.setState({email:t.target.value}),e.setState({isLoading:!1})},e.passwordChangeHandler=function(t){e.setState({password:t.target.value}),e.setState({isLoading:!1})},e.state={isLoading:!1},e.handleSubmit=e.handleSubmit.bind(Object(d.a)(e)),e}return Object(u.a)(a,[{key:"handleSubmit",value:function(e){e.preventDefault(),Ie.authenticate(this.state),this.setState({isLoading:!0})}},{key:"componentDidMount",value:function(){if(o.a.location.state&&o.a.location.state.message){var e=Object($.a)({},o.a.location.state);delete e.message,delete e.type,o.a.replace(Object($.a)({},o.a.location,{state:e}))}this.setState({isLoading:!1})}},{key:"componentWillReceiveProps",value:function(e){this.setState({isLoading:!1})}},{key:"render",value:function(){var e;return i.a.createElement("div",{className:"app_wrapper login_view"},i.a.createElement("div",{className:"grid"},i.a.createElement("div",{className:"grid__item width-3/12 width-12/12@m left-pane no@m"},i.a.createElement("div",{className:"left-pane-quote"},i.a.createElement("div",{className:"left-pane-quote-text"},"I can get inspiration & cultural references from people around the world."))),i.a.createElement("div",{className:"grid__item width-9/12 width-12/12@m right-pane"},i.a.createElement("div",{className:"right-pane-content"},i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"form-container"},i.a.createElement("div",{className:"right-pane-text mb-s"},i.a.createElement(f.a,{to:"/"},i.a.createElement("img",{className:"logo mb-m",src:"/logo.svg",alt:"logo"})),i.a.createElement("h5",{className:"big-title"},"Welcome back."),i.a.createElement("p",null,"Enter your details below.")),(null===(e=this.props.location.state)||void 0===e?void 0:e.message)?i.a.createElement(B,{type:this.props.location.state.type,message:this.props.location.state.message}):"",i.a.createElement("form",{onSubmit:this.handleSubmit,className:"login-form"},i.a.createElement("div",null,i.a.createElement("label",null,"Email"),i.a.createElement("input",{name:"email",component:"input",type:"email",autoComplete:"email",onChange:this.emailChangeHandler,placeholder:"dieter@rams.com",required:!0})),i.a.createElement("div",null,i.a.createElement("label",null,"Password"),i.a.createElement("input",{name:"password",component:"input",type:"password",autoComplete:"current-password",onChange:this.passwordChangeHandler,placeholder:"Introduce your password",pattern:".{8,}",required:!0})),i.a.createElement("button",{className:"button submitbtn inline",type:"submit"},this.state.isLoading?"loading":"Login")),i.a.createElement("span",null,"Don\u2019t have an account? ",i.a.createElement(f.a,{to:"/signup",className:"link"},"Get started!"))))))))}}]),a}(r.Component),xe=a(21),_e=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(m.a)(this,a),(e=t.call(this)).emailChangeHandler=function(t){e.setState({email:t.target.value})},e.handleSubmit=function(t){t.preventDefault(),o.a.push({pathname:"/signup",state:{email:e.state.email}})},e.state={email:""},e}return Object(u.a)(a,[{key:"render",value:function(){return i.a.createElement("header",{className:"header no@m"},i.a.createElement("div",{className:"container flex-justify"},i.a.createElement("ul",{id:"primarymenu",className:"nav menu"},i.a.createElement("li",null,i.a.createElement(f.a,{to:"/"},i.a.createElement("img",{className:"logo",src:"/logo.svg",alt:"logo"}))),i.a.createElement("li",null,i.a.createElement(f.a,{to:"/feed"},"Discover"))),xe.isAuthenticated()?i.a.createElement("ul",{id:"usermenu",className:"nav menu"},i.a.createElement("li",null,i.a.createElement(f.a,{to:"/create",className:"link"},i.a.createElement(q,null)," Create")),i.a.createElement("li",null,i.a.createElement(f.a,{to:"/likes"},i.a.createElement(y,null)," Likes")),i.a.createElement("li",null,i.a.createElement(f.a,{to:"/profile"},i.a.createElement(k,null)," Profile"))):i.a.createElement("div",{className:"form form-wrap"},i.a.createElement("form",{className:"email-form no@m",onSubmit:this.handleSubmit},i.a.createElement("div",{className:"email-form__input-wrapper"},i.a.createElement("input",{type:"email",id:"email",className:"email-form__input","aria-required":"true","aria-invalid":"false","aria-describedby":"signup-cta-error",placeholder:"Email",autoComplete:"email",onChange:this.emailChangeHandler})),i.a.createElement("button",{type:"submit",className:"email-form__submit",mailto:""},i.a.createElement("span",{className:"email-form__submit__label"},"Get started!"))),i.a.createElement(f.a,{to:"/login",className:"button button-outline button-header-login"},"Sign in"))))}}]),a}(r.Component),Re=a(21),Pe=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={isAuthenticated:Re.isAuthenticated()},n}return Object(u.a)(a,[{key:"render",value:function(){return i.a.createElement("div",{className:"app_wrapper home_view"},i.a.createElement(_e,null),i.a.createElement("div",{className:"global"},i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"grid"},i.a.createElement("div",{className:"grid__item width-6/12 width-12/12@m"},i.a.createElement(f.a,{to:"/"},i.a.createElement("img",{className:"logo mb-m no@dkt",src:"/logo.svg",alt:"logo"})),i.a.createElement("h1",{className:"main-title"},"The sharing platform for the ",i.a.createElement("span",{className:"scratch"},"quarantine")," people."),i.a.createElement("p",{className:"hero-text"},"We make it easy to find inspiration, references, and grow informed online communities that are built to last."),this.state.isAuthenticated?i.a.createElement(f.a,{to:"/create",className:"button"},"Publish now!"):i.a.createElement(f.a,{to:"/signup",className:"button"},"Get Started!")),i.a.createElement("div",{className:"grid__item width-6/12 no@m"},i.a.createElement("picture",{className:"picture-main-image"},i.a.createElement("img",{className:"main-image",src:"https://images.unsplash.com/photo-1446511437394-36cdff3ae1b3?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1050&q=80",alt:"cover"})),i.a.createElement("div",{className:"bg-home"}))))),i.a.createElement(J,null))}}]),a}(r.Component),Me=a(10),He=a.n(Me),Ue=a(12),Te=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return i.a.createElement(f.a,{to:"/item/".concat(this.props.itemId),"data-id":this.props.itemId,className:"favitem"},i.a.createElement("div",{className:"favitem-image-holder"},i.a.createElement("img",{className:"favitem-image-holder-img",src:this.props.imageUrl,alt:"cover"})),i.a.createElement("div",{className:"favitem-description"},i.a.createElement("div",{className:"favitem-category badge inline"},this.props.categorias),i.a.createElement("h6",null,this.props.title),i.a.createElement("p",{className:"description"},this.props.description)),i.a.createElement(re,{itemId:this.props.itemId}))}}]),a}(r.Component),De=a(44),We=a.n(De),qe=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"componentDidMount",value:function(){for(var e=function(e){console.log("create");var a=8*Math.random(),n=.4*a,r="confetti-red";switch(Math.ceil(3*Math.random())){case 1:r="confetti-yellow";break;case 2:r="confetti-blue";break;default:r="confetti-red"}We()('<div class="confetti-'+e+" "+r+'"></div>').css({width:a+"px",height:n+"px",top:20*-Math.random()+"%",left:100*Math.random()+"%",opacity:Math.random()+.5,transform:"rotate("+360*Math.random()+"deg)"}).appendTo(".wrapper-confetti"),t(e)},t=function(e){We()(".confetti-"+e).animate({top:"100%",left:"+="+15*Math.random()+"%"},3e3*Math.random()+3e3,(function(){a(e)}))},a=function(e){We()(".confetti-"+e).animate({top:20*-Math.random()+"%",left:"-="+15*Math.random()+"%"},0,(function(){t(e)}))},n=0;n<200;n++)e(n)}},{key:"render",value:function(){return i.a.createElement("div",{className:"wrapper-confetti"})}}]),a}(i.a.Component),Ae=(a(41),a(55)),Fe=a(21),$e=new(a(35))({apiKey:"keyu0nFPUS8ZCnRmb"}).base("appOyoqCMxKWB0IG8")("contributors"),Be=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){var n,r;return Object(m.a)(this,a),(r=t.call(this,e)).state={isLoading:!0,renderItems:[],pubItems:0,likeItems:F.e()?null===(n=F.e())||void 0===n?void 0:n.length:"0",makeConfetti:r.checkConfetti()},r}return Object(u.a)(a,[{key:"getUserPubItems",value:function(){var e,t=this,a=null===(e=Fe.getSession())||void 0===e?void 0:e.id;a?$e.find(a,function(){var e=Object(Ue.a)(He.a.mark((function e(a,n){var r,i,s,l,c;return He.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=3;break}return console.error(a),e.abrupt("return");case 3:return(null===(c=n.fields)||void 0===c?void 0:c.items)||t.setState({isLoading:!1,renderItems:[]}),(null===c||void 0===c?void 0:c.likes)||(c.likes=[]),e.next=8,Ae.hydrateUserPubItems(c);case 8:Fe.setLocalStorageFavs(c.likes),t.setState({isLoading:!1,renderItems:null===c||void 0===c?void 0:c.items,pubItems:(null===c||void 0===c||null===(r=c.items)||void 0===r?void 0:r.length)?null===c||void 0===c||null===(i=c.items)||void 0===i?void 0:i.length:"0",likeItems:(null===c||void 0===c||null===(s=c.likes)||void 0===s?void 0:s.length)?null===c||void 0===c||null===(l=c.likes)||void 0===l?void 0:l.length:"0"});case 10:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()):this.setState({isLoading:!1,renderItems:[]})}},{key:"checkConfetti",value:function(){var e;return"success"===(null===(e=this.props.location.state)||void 0===e?void 0:e.type)}},{key:"componentDidMount",value:function(){if(o.a.location.state&&o.a.location.state.message){var e=Object($.a)({},o.a.location.state);delete e.message,delete e.type,o.a.replace(Object($.a)({},o.a.location,{state:e}))}this.getUserPubItems()}},{key:"render",value:function(){var e,t;return i.a.createElement("div",{className:"app_wrapper profile_view"},this.state.makeConfetti?i.a.createElement(qe,null):"",i.a.createElement(V,null),i.a.createElement("div",{className:"global"},i.a.createElement("div",{className:"ArticlesGrid mt-l"},i.a.createElement("div",{className:"container container-s"},i.a.createElement("div",{className:"profile-user mt-xl"},i.a.createElement("div",{className:"profile-user-image-holder"},i.a.createElement(k,null)),i.a.createElement("div",{className:"profile-user-info"},i.a.createElement("div",{className:"profile-user-name"},i.a.createElement("h3",null,null===(e=Fe.getSession())||void 0===e?void 0:e.name)),i.a.createElement("div",{className:"profile-user-description"},i.a.createElement("p",null,null===(t=Fe.getSession())||void 0===t?void 0:t.description)),i.a.createElement("div",{className:"profile-user-data"},i.a.createElement("span",null,this.state.likeItems," Likes"),i.a.createElement("span",null,this.state.pubItems," Published"),i.a.createElement("span",null,"0 Following"),i.a.createElement("span",null,"0 Followers")))),i.a.createElement("div",{className:"mt-m"},this.state.isLoading?i.a.createElement(he,null):this.state.renderItems&&this.state.renderItems.length>0?this.state.renderItems.map((function(e,t){return i.a.createElement(Te,Object.assign({},e,{key:t,itemId:e.id}))})):i.a.createElement("div",{className:"empty-pubrecords"},i.a.createElement(f.a,{to:"/create",className:"link inline-block mb-s"},i.a.createElement(q,null)," Create"),i.a.createElement("div",null,"Welcome ",i.a.createElement("span",{role:"img","aria-label":"welcome"},"\ud83c\udf89"),"! Now you can share your referents and they will appear here.",i.a.createElement("br",null),"Or start browsing favs in ",i.a.createElement(f.a,{to:"/feed",className:"underline"},"Discover")))),i.a.createElement("div",{className:"mt-l mb-xl"},i.a.createElement("button",{className:"underline grey auto block",onClick:Fe.signOut},"Sign Out"))))),i.a.createElement(J,null))}}]),a}(r.Component),Ge=a(41),Ze=a(55),Ke=new(a(35))({apiKey:"keyu0nFPUS8ZCnRmb"}).base("appOyoqCMxKWB0IG8"),Ve=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={isLoading:!0,renderItems:[],pubItems:0,likeItems:0,urlName:decodeURIComponent(window.location.pathname.split("/").pop())},n}return Object(u.a)(a,[{key:"getUserPubItems",value:function(){var e=this,t=Ke("contributors"),a={filterByFormula:"{name} = '".concat(this.state.urlName,"'")};Ge.getAirtableRecords(t,a).then(function(){var t=Object(Ue.a)(He.a.mark((function t(a){var n,r,i,s,l,c;return He.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(null===(c=null===(n=a[0])||void 0===n?void 0:n.fields)||void 0===c?void 0:c.items)||e.setState({isLoading:!1,renderItems:[]}),(null===c||void 0===c?void 0:c.likes)||(c.likes=[]),t.next=5,Ze.hydrateUserPubItems(c);case 5:e.setState({isLoading:!1,renderItems:null===c||void 0===c?void 0:c.items,pubItems:(null===c||void 0===c||null===(r=c.items)||void 0===r?void 0:r.length)?null===c||void 0===c||null===(i=c.items)||void 0===i?void 0:i.length:"0",likeItems:(null===c||void 0===c||null===(s=c.likes)||void 0===s?void 0:s.length)?null===c||void 0===c||null===(l=c.likes)||void 0===l?void 0:l.length:"0"});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){console.log(Error(e))}))}},{key:"componentDidMount",value:function(){this.getUserPubItems()}},{key:"render",value:function(){var e;return i.a.createElement("div",{className:"app_wrapper profile_view"},i.a.createElement(V,null),i.a.createElement("div",{className:"global"},i.a.createElement("div",{className:"ArticlesGrid mt-l"},i.a.createElement("div",{className:"container container-s"},i.a.createElement("div",{className:"profile-user mt-xl"},i.a.createElement("div",{className:"profile-user-image-holder"},i.a.createElement(k,null)),i.a.createElement("div",{className:"profile-user-info"},i.a.createElement("div",{className:"profile-user-name"},i.a.createElement("h3",null,this.state.urlName)),i.a.createElement("div",{className:"profile-user-description"},i.a.createElement("p",null,null===(e=this.state)||void 0===e?void 0:e.urlName)),i.a.createElement("div",{className:"profile-user-data"},i.a.createElement("span",null,this.state.likeItems," Likes"),i.a.createElement("span",null,this.state.pubItems," Published"),i.a.createElement("span",null,"0 Following"),i.a.createElement("span",null,"0 Followers")))),i.a.createElement("div",{className:"mt-m"},this.state.isLoading?i.a.createElement(he,null):this.state.renderItems&&this.state.renderItems.length>0?this.state.renderItems.map((function(e,t){return i.a.createElement(Te,Object.assign({},e,{key:t,itemId:e.id}))})):i.a.createElement("div",{className:"empty-pubrecords"},i.a.createElement(f.a,{to:"/create",className:"link inline-block mb-s"},i.a.createElement(q,null)," Create"),i.a.createElement("div",null,"Welcome ",i.a.createElement("span",{role:"img","aria-label":"welcome"},"\ud83c\udf89"),"! Now you can share your referents and they will appear here.")))))),i.a.createElement(J,null))}}]),a}(r.Component),Je=a(55),ze=a(21),Ye=a(35),Xe=(a(41),new Ye({apiKey:"keyu0nFPUS8ZCnRmb"}).base("appOyoqCMxKWB0IG8")("contributors")),Qe=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={isLoading:!0,renderItems:[]},n}return Object(u.a)(a,[{key:"getUserFavs",value:function(){var e,t=this,a=null===(e=ze.getSession())||void 0===e?void 0:e.id;a?Xe.find(a,function(){var e=Object(Ue.a)(He.a.mark((function e(a,n){var r,i;return He.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=4;break}return console.error(a),t.setState({isLoading:!1,renderItems:[]}),e.abrupt("return");case 4:return(null===(r=null===n||void 0===n?void 0:n.fields)||void 0===r?void 0:r.likes)||(r.likes=[]),ze.setLocalStorageFavs(r.likes),e.next=9,Je.getHydratedFavItems(r.likes);case 9:return i=e.sent,t.setState({isLoading:!1,renderItems:i}),e.abrupt("return");case 12:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()):this.setState({isLoading:!1,renderItems:[]})}},{key:"componentDidMount",value:function(){this.getUserFavs()}},{key:"render",value:function(){return i.a.createElement("div",{className:"app_wrapper profile_view"},i.a.createElement(V,null),i.a.createElement("div",{className:"global"},i.a.createElement("div",{className:"container container-m"},i.a.createElement("div",{className:"ArticlesGrid mt-l"},i.a.createElement(z,{title:"Likes"}),i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"mt-s"},this.state.isLoading?i.a.createElement(he,null):this.state.renderItems&&this.state.renderItems.length>0?this.state.renderItems.map((function(e,t){return i.a.createElement(Te,Object.assign({},e,{key:t,itemId:e.id}))})):i.a.createElement("div",{className:"empty-pubrecords"},i.a.createElement(y,{className:"icon-40 icon-grey mb-s"}),i.a.createElement("div",null,"Hey! Your favourite items will appear here. You can start by clicking the heart icon on any item."))))))),i.a.createElement(J,null))}}]),a}(r.Component),et=a(55),tt=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e,n;return Object(m.a)(this,a),(n=t.call(this)).urlChangeHandler=function(e){n.setState({url:e.target.value}),n.linkPreview(e.target.value),n.setState({isLoadingUrl:!0})},n.titleChangeHandler=function(e){n.setState({title:e.target.value})},n.descriptionChangeHandler=function(e){n.setState({description:e.target.value})},n.imageUrlChangeHandler=function(e){n.setState({imageUrl:e.target.value})},n.passwordChangeHandler=function(e){n.setState({password:e.target.value})},n.categoriasChangeHandler=function(e){n.setState({categorias:e.target.value})},n.temasChangeHandler=function(e){n.setState({temas:[e.target.value]})},n.state={isLoading:!0,isLoadingUrl:!1,showForm:!1,contribuidor:[null===(e=JSON.parse(localStorage.getItem("userSession")))||void 0===e?void 0:e.id]},n.handleSubmit=n.handleSubmit.bind(Object(d.a)(n)),n}return Object(u.a)(a,[{key:"handleSubmit",value:function(e){e.preventDefault(),this.setState({isLoading:!0}),et.uploadToCloudinary(this.state,et.addItem)}},{key:"getUniqueCategories",value:function(){var e=this;fetch(window.$api).then((function(e){return e.json()})).then((function(t){F.j(t.records),F.i(t.records),window.$alldata=t.records,e.setState({isLoading:!1,uniqueCategories:window.$categories,uniqueTopics:window.$topics})}))}},{key:"componentDidMount",value:function(){var e=window.$categories,t=window.$topics;if(e&&t?this.setState({isLoading:!1,uniqueCategories:e,uniqueTopics:t}):this.getUniqueCategories(),o.a.location.state&&o.a.location.state.message){var a=Object($.a)({},o.a.location.state);delete a.message,delete a.type,o.a.replace(Object($.a)({},o.a.location,{state:a}))}}},{key:"componentWillReceiveProps",value:function(e){this.setState({isLoading:!1})}},{key:"linkPreview",value:function(e){var t=this;We.a.ajax({url:"https://api.linkpreview.net",dataType:"jsonp",data:{q:e,key:"63c1d73029280f2cca0360de373aa31f"},success:function(e){a(e)}});var a=function(e){t.setState({isLoadingUrl:!1,showForm:!0}),e?((null===e||void 0===e?void 0:e.title)&&t.setState({title:e.title}),(null===e||void 0===e?void 0:e.description)&&t.setState({description:e.description}),(null===e||void 0===e?void 0:e.image)&&t.setState({imageUrl:e.image})):o.a.push({state:{type:"info",message:"That link has not provided info"}})}}},{key:"itemPreview",value:function(e){return i.a.createElement("div",{className:"favitem no-b"},i.a.createElement("div",{className:"favitem-image-holder"},(null===e||void 0===e?void 0:e.imageUrl)?i.a.createElement("img",{className:"favitem-image-holder-img",src:null===e||void 0===e?void 0:e.imageUrl,alt:"cover"}):""),i.a.createElement("div",{className:"favitem-description"},i.a.createElement("div",{className:"favitem-category badge inline mt-s"},(null===e||void 0===e?void 0:e.categorias)?null===e||void 0===e?void 0:e.categorias:"category"),i.a.createElement("h6",null,(null===e||void 0===e?void 0:e.title)?null===e||void 0===e?void 0:e.title:"title"),i.a.createElement("p",{className:"description-small"},(null===e||void 0===e?void 0:e.description)?null===e||void 0===e?void 0:e.description:"description")))}},{key:"render",value:function(){var e,t,a;return i.a.createElement("div",{className:"app_wrapper create_view"},i.a.createElement(V,null),i.a.createElement("div",{className:"global"},i.a.createElement("div",{className:"container container-s"},i.a.createElement("div",{className:"form-container"},i.a.createElement("div",{className:"mb-m text-center"},i.a.createElement("h3",{className:"centered"},"Add an item"),i.a.createElement("p",null,"Tell everyone why it\xb4s awesome.")),i.a.createElement("form",{onSubmit:this.handleSubmit,className:"signup-form"},i.a.createElement("div",{className:"grid"},i.a.createElement("div",{className:"grid__item width-2/12 width-12/12@m"}),i.a.createElement("div",{className:"grid__item width-8/12 width-12/12@m"},o.a.location.state&&(null===(e=this.props.location.state)||void 0===e?void 0:e.message)?i.a.createElement(B,{type:this.props.location.state.type,message:this.props.location.state.message}):"",i.a.createElement("div",{className:"input-icon-container"},i.a.createElement("label",null,"Item Link"),i.a.createElement("input",{id:"url",name:"url",component:"input",type:"text",onChange:this.urlChangeHandler,placeholder:"External url for the item",required:!0,autoFocus:!0,value:this.state.url,className:"big-input"}),this.state.isLoadingUrl?i.a.createElement("div",{class:"loader-icon-container"},i.a.createElement("i",{class:"loader-icon"})):""),i.a.createElement("div",{className:"create-item-step-2 ".concat(this.state.showForm?"show-form":""," ")},i.a.createElement("div",{className:"itemPreview mb-m"},i.a.createElement("h6",null,"Preview"),this.itemPreview(this.state)),i.a.createElement("div",null,i.a.createElement("label",null,"Title"),i.a.createElement("input",{id:"title",name:"title",component:"input",type:"text",onChange:this.titleChangeHandler,placeholder:"Awesome title",required:!0,value:this.state.title})),i.a.createElement("div",null,i.a.createElement("label",null,"Description"),i.a.createElement("textarea",{id:"description",name:"description",component:"input",type:"text",onChange:this.descriptionChangeHandler,placeholder:"Short description for the item",required:!0,value:this.state.description})),i.a.createElement("div",null,i.a.createElement("label",null,"Featured Image"),i.a.createElement("input",{id:"imageUrl",name:"imageUrl",component:"input",type:"text",onChange:this.imageUrlChangeHandler,placeholder:"Featured image for the item",required:!0,value:this.state.imageUrl})),i.a.createElement("div",null,i.a.createElement("label",null,"Category"),i.a.createElement("select",{id:"categorias",name:"categorias",onChange:this.categoriasChangeHandler,required:!0},i.a.createElement("option",{hidden:!0,selected:!0,value:""},"Select a category"),this.state.isLoading?"":null===(t=this.state)||void 0===t?void 0:t.uniqueCategories.map((function(e,t){return i.a.createElement("option",{key:t,value:e},e)})))),i.a.createElement("div",null,i.a.createElement("label",null,"Topic"),i.a.createElement("select",{id:"topics",name:"temas",onChange:this.temasChangeHandler},i.a.createElement("option",{hidden:!0,selected:!0,value:""},"Select a topic"),this.state.isLoading?"":null===(a=this.state)||void 0===a?void 0:a.uniqueTopics.map((function(e,t){return i.a.createElement("option",{key:t,value:e},e)})))),i.a.createElement("button",{className:"button submitbtn inline mt-s",type:"submit"},this.state.isLoading?"loading":"Create Item")))))))))}}]),a}(r.Component);function at(){return(at=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function nt(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var rt=i.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.636 18.5858L10.2218 20L2.4436 12.2218L3.85781 10.8076L3.85785 10.8076L10.2219 4.44363L11.6361 5.85784L6.49396 11L22 11L22 13L6.05017 13L11.636 18.5858Z",fill:"#02272C"}),it=function(e){var t=e.svgRef,a=e.title,n=nt(e,["svgRef","title"]);return i.a.createElement("svg",at({width:24,height:24,viewBox:"0 0 24 24",fill:"none",ref:t},n),a?i.a.createElement("title",null,a):null,rt)},st=i.a.forwardRef((function(e,t){return i.a.createElement(it,at({svgRef:t},e))}));a.p;function lt(){return(lt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function ct(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var ot=i.a.createElement("path",{d:"M12 1C5.9 1 1 5.9 1 12C1 18.1 5.9 23 12 23C18.1 23 23 18.1 23 12C23 5.9 18.1 1 12 1ZM20 12C20 12.7 19.9 13.4 19.7 14C19.1 12.5 18.1 10.9 16.7 9.3L18.5 7.5C19.5 8.8 20 10.3 20 12ZM6.5 6.5C7.8 6.5 10.1 7.3 12.5 9.4L9.3 12.6C7.1 9.8 6.5 7.5 6.5 6.5ZM14.6 11.5C16.9 14.2 17.5 16.5 17.5 17.5C16.2 17.5 13.9 16.7 11.5 14.6L14.6 11.5ZM16.5 5.4L14.6 7.3C13 5.9 11.4 4.9 9.9 4.3C10.6 4.1 11.2 4 11.9 4C13.7 4 15.2 4.5 16.5 5.4ZM4 12C4 11.3 4.1 10.6 4.3 10C4.9 11.5 5.9 13.1 7.3 14.7L5.5 16.5C4.5 15.2 4 13.7 4 12ZM7.5 18.6L9.4 16.7C11 18.1 12.6 19.1 14.1 19.7C13.4 19.9 12.8 20 12.1 20C10.3 20 8.8 19.5 7.5 18.6Z",fill:"#02272C"}),mt=function(e){var t=e.svgRef,a=e.title,n=ct(e,["svgRef","title"]);return i.a.createElement("svg",lt({width:24,height:24,viewBox:"0 0 24 24",fill:"none",ref:t},n),a?i.a.createElement("title",null,a):null,ot)},ut=i.a.forwardRef((function(e,t){return i.a.createElement(mt,lt({svgRef:t},e))})),dt=(a.p,a(41),a(55),a(21),new(a(35))({apiKey:"keyu0nFPUS8ZCnRmb"}).base("appOyoqCMxKWB0IG8")),pt=dt("recommendations"),ht=dt("contributors"),ft=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={isLoading:!0,urlItemId:decodeURIComponent(window.location.pathname.split("/").pop()),itemData:[]},n}return Object(u.a)(a,[{key:"getItemData",value:function(){var e=this;pt.find(this.state.urlItemId,function(){var t=Object(Ue.a)(He.a.mark((function t(a,n){var r;return He.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a){t.next=3;break}return console.error(a),t.abrupt("return");case 3:r=n.fields,ht.find(r.contribuidor,function(){var t=Object(Ue.a)(He.a.mark((function t(a,n){var i;return He.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a){t.next=3;break}return console.error(a),t.abrupt("return");case 3:i=null===n||void 0===n?void 0:n.fields,e.setState({isLoading:!1,itemData:r,contributorData:i});case 5:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}());case 5:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}())}},{key:"componentDidMount",value:function(){if(o.a.location.state&&o.a.location.state.message){var e=Object($.a)({},o.a.location.state);delete e.message,delete e.type,o.a.replace(Object($.a)({},o.a.location,{state:e}))}this.getItemData()}},{key:"render",value:function(){return i.a.createElement("div",{className:"app_wrapper item_view"},i.a.createElement(V,null),i.a.createElement("div",{className:"global"},i.a.createElement("div",{className:"container container-m"},i.a.createElement(f.a,{to:"/feed",className:"back-icon",onClick:o.a.goBack},i.a.createElement(st,{className:""})),this.state.isLoading?i.a.createElement(he,null):this.itemTemplate())),i.a.createElement(J,null))}},{key:"itemTemplate",value:function(){var e,t,a,n,r,s,l,c,o,m;return i.a.createElement("div",{className:"item-wrapper"},i.a.createElement("div",{className:"item-container mt-s card-16"},i.a.createElement("div",{className:"grid"},i.a.createElement("div",{className:"grid__item width-6/12 width-12/12@m"},i.a.createElement("img",{className:"item-img",src:null===(e=this.state.itemData)||void 0===e?void 0:e.imageUrl,alt:"cover"})),i.a.createElement("div",{className:"grid__item width-6/12 width-12/12@m"},i.a.createElement("div",{className:"item-content"},i.a.createElement("div",{className:"item-content-top"},i.a.createElement(re,{itemId:null===(t=this.state.itemData)||void 0===t?void 0:t.urlItemId}),i.a.createElement(f.a,{to:"/categorias/"+(null===(a=this.state.itemData)||void 0===a?void 0:a.categorias),className:"badge"},null===(n=this.state.itemData)||void 0===n?void 0:n.categorias),null===(r=this.state.itemData)||void 0===r||null===(s=r.temas)||void 0===s?void 0:s.map((function(e,t){return i.a.createElement(f.a,{to:"/temas/"+e,className:"badge badge-outline",key:t},"#",e)})),i.a.createElement("h2",null,null===(l=this.state.itemData)||void 0===l?void 0:l.title),i.a.createElement("p",{className:"hero-text"},null===(c=this.state.itemData)||void 0===c?void 0:c.description),i.a.createElement(ie,{contributor:this.state.contributorData,className:"no-m"})),i.a.createElement("div",{className:"item-content-bottom"},i.a.createElement("a",{href:null===(o=this.state.itemData)||void 0===o?void 0:o.url,target:"_blank",className:"link-box"},i.a.createElement(ut,{className:"link-box-icon icon-24"}),i.a.createElement("div",{className:"link-box-content"},i.a.createElement("span",null,"Website"),i.a.createElement("span",null,null===(m=this.state.itemData)||void 0===m?void 0:m.url)))))))))}}]),a}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var vt=a(21);window.$api="https://api.airtable.com/v0/appOyoqCMxKWB0IG8/recommendations?api_key=keyu0nFPUS8ZCnRmb",window.$api_contributors="https://api.airtable.com/v0/appOyoqCMxKWB0IG8/contributors?api_key=keyu0nFPUS8ZCnRmb";var gt=function(e){var t=e.component,a=Object(n.a)(e,["component"]);return i.a.createElement(c.b,Object.assign({},a,{render:function(e){return vt.isAuthenticated()?i.a.createElement(t,e):i.a.createElement(c.a,{to:{pathname:"/signup",state:{from:e.location}}})}}))},bt=i.a.createElement(c.c,{history:o.a},i.a.createElement(c.d,null,i.a.createElement(c.b,{exact:!0,path:"/",component:Pe}),i.a.createElement(c.b,{exact:!0,path:"/feed",component:ve}),i.a.createElement(c.b,{path:"/categorias/:id",component:ke}),i.a.createElement(c.b,{path:"/temas/:id",component:ke}),i.a.createElement(c.b,{path:"/colecciones/:id",component:ke}),i.a.createElement(c.b,{path:"/profile/:id",component:Ve}),i.a.createElement(c.b,{path:"/item/:id",component:ft}),i.a.createElement(c.b,{exact:!0,path:"/about",component:je}),i.a.createElement(c.b,{exact:!0,path:"/search",component:Se}),i.a.createElement(c.b,{exact:!0,path:"/signup",component:Z}),i.a.createElement(c.b,{exact:!0,path:"/login",component:Le}),i.a.createElement(gt,{path:"/create",component:tt}),i.a.createElement(gt,{path:"/likes",component:Qe}),i.a.createElement(gt,{path:"/profile",component:Be}),i.a.createElement(c.b,{component:Ce})),i.a.createElement(A,null));l.a.render(bt,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},41:function(e,t,a){"use strict";a.r(t),a.d(t,"getAirtableRecords",(function(){return r}));var n=a(58),r=function(e,t){var a=[],r={view:"Grid view",pageSize:15};return Object.assign(r,t),new Promise((function(t,i){a.length>0&&t(a);e.select(r).eachPage((function(e,t){a=[].concat(Object(n.a)(a),Object(n.a)(e)),t()}),(function(e){e?i(e):t(a)}))}))}},55:function(e,t,a){"use strict";a.r(t),a.d(t,"getRecommendationById",(function(){return f})),a.d(t,"hydrateUserLikes",(function(){return v})),a.d(t,"hydrateUserPubItems",(function(){return g})),a.d(t,"addItem",(function(){return E})),a.d(t,"uploadToCloudinary",(function(){return y})),a.d(t,"syncMixLocalwithTableFavs",(function(){return w})),a.d(t,"getHydratedFavItems",(function(){return N}));var n=a(58),r=a(10),i=a.n(r),s=a(43),l=a(12),c=a(15),o=a(7),m=a(1),u=a(41),d=a(21),p=new(a(35))({apiKey:"keyu0nFPUS8ZCnRmb"}).base("appOyoqCMxKWB0IG8"),h=p("recommendations"),f=function(e){return new Promise((function(t,a){p("recommendations").find(e,(function(e,n){if(e)a(e);else{var r={id:n.id},i=n.fields;n=Object(c.a)({},r,{},i),t(n)}}))}))},v=function(){var e=Object(l.a)(i.a.mark((function e(t){var a,n,r,l,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.likes,n=[],a){e.next=4;break}return e.abrupt("return",[]);case 4:r=Object(s.a)(a),e.prev=5,r.s();case 7:if((l=r.n()).done){e.next=16;break}return c=l.value,e.t0=n,e.next=12,f(c);case 12:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 14:e.next=7;break;case 16:e.next=21;break;case 18:e.prev=18,e.t2=e.catch(5),r.e(e.t2);case 21:return e.prev=21,r.f(),e.finish(21);case 24:return t.likes=n,e.abrupt("return",t);case 26:case"end":return e.stop()}}),e,null,[[5,18,21,24]])})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(l.a)(i.a.mark((function e(t,a){var n,r,l,c,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.items,r=[],n){e.next=4;break}return e.abrupt("return",[]);case 4:l=Object(s.a)(n),e.prev=5,l.s();case 7:if((c=l.n()).done){e.next=16;break}return o=c.value,e.t0=r,e.next=12,f(o);case 12:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 14:e.next=7;break;case 16:e.next=21;break;case 18:e.prev=18,e.t2=e.catch(5),l.e(e.t2);case 21:return e.prev=21,l.f(),e.finish(21);case 24:return t.items=r,e.abrupt("return",t);case 26:case"end":return e.stop()}}),e,null,[[5,18,21,24]])})));return function(t,a){return e.apply(this,arguments)}}(),b=function(){var e=Object(l.a)(i.a.mark((function e(t,a){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!1,r={},r=t&&a?{filterByFormula:"OR(title = '".concat(t,"', url = '").concat(a,"')")}:{filterByFormula:"OR(title = '".concat(t,"', url = '").concat(t,"')")},e.next=5,u.getAirtableRecords(h,r);case 5:return e.sent.filter((function(e){return n=e.get("title")===t||e.get("url")===a})),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),E=function(){var e=Object(l.a)(i.a.mark((function e(t){var a,n,r,s,l,c,m;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.title,n=t.description,r=t.url,s=t.imageUrl,l=t.categorias,c=t.temas,m=t.contribuidor,e.next=3,b(a,r);case 3:if(!e.sent){e.next=8;break}return console.log("itemExists"),o.a.push({pathname:"/create",state:{type:"error",message:"It seems that it already exists. Please try again with another one."}}),e.abrupt("return");case 8:h.create({title:a,description:n,url:r,imageUrl:s,categorias:l,temas:c,contribuidor:m},(function(e,a){if(e)return console.error(e),void o.a.push({pathname:"/create",state:{type:"error",message:"Something happened when uploading. Please try again."}});t.id=a.getId(),o.a.push({pathname:"/profile",state:{type:"success",message:"Item created succesfully!"}})}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(e,t){var a="https://api.cloudinary.com/v1_1/".concat("dsgddhtwh","/upload"),n=new XMLHttpRequest,r=new FormData;n.open("POST",a,!0),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.append("upload_preset","cloudinary_airtable_preset"),r.append("tags","browser_upload"),r.append("file",e.imageUrl),n.send(r),n.onreadystatechange=function(a){if(4===n.readyState&&200===n.status){var r=JSON.parse(n.responseText).secure_url;e.imageUrl=r,t(e)}400===n.status&&o.a.push({pathname:"/create",state:{type:"error",message:"Something happened when uploading. Please try again."}})}.bind(void 0)},w=function(){var e=Object(l.a)(i.a.mark((function e(t){var a,r,s,l,c,o,u,p,h;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=m.e(),t||(t=[]),r=t.filter((function(e){return a.some((function(t){return e.id===t}))})),s=[],r.map((function(e){return s.push(e.id)})),l=[].concat(Object(n.a)(a),s),c=Array.from(new Set(l)),o=[],u=0,p=c;case 9:if(!(u<p.length)){e.next=19;break}return h=p[u],e.t0=o,e.next=14,f(h);case 14:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 16:u++,e.next=9;break;case 19:return d.updateUserLikes(c),e.abrupt("return",o);case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(l.a)(i.a.mark((function e(t){var a,n,r,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t||(t=[]),a=[],n=Object(s.a)(t),e.prev=3,n.s();case 5:if((r=n.n()).done){e.next=14;break}return l=r.value,e.t0=a,e.next=10,f(l);case 10:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 12:e.next=5;break;case 14:e.next=19;break;case 16:e.prev=16,e.t2=e.catch(3),n.e(e.t2);case 19:return e.prev=19,n.f(),e.finish(19);case 22:return e.abrupt("return",a);case 23:case"end":return e.stop()}}),e,null,[[3,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()},7:function(e,t,a){"use strict";var n=a(17);t.a=Object(n.a)()}},[[190,1,2]]]);
//# sourceMappingURL=main.d14bc17c.chunk.js.map